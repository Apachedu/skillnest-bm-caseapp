function xv(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function jm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bc={exports:{}},Qo={},$c={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function Nv(){if(dp)return Ie;dp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,W={};function z(D,b,fe){this.props=D,this.context=b,this.refs=W,this.updater=fe||B}z.prototype.isReactComponent={},z.prototype.setState=function(D,b){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,b,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ee(){}ee.prototype=z.prototype;function Y(D,b,fe){this.props=D,this.context=b,this.refs=W,this.updater=fe||B}var te=Y.prototype=new ee;te.constructor=Y,K(te,z.prototype),te.isPureReactComponent=!0;var de=Array.isArray,Le=Object.prototype.hasOwnProperty,Te={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(D,b,fe){var we,Se={},Re=null,Me=null;if(b!=null)for(we in b.ref!==void 0&&(Me=b.ref),b.key!==void 0&&(Re=""+b.key),b)Le.call(b,we)&&!N.hasOwnProperty(we)&&(Se[we]=b[we]);var Fe=arguments.length-2;if(Fe===1)Se.children=fe;else if(1<Fe){for(var Be=Array(Fe),yt=0;yt<Fe;yt++)Be[yt]=arguments[yt+2];Se.children=Be}if(D&&D.defaultProps)for(we in Fe=D.defaultProps,Fe)Se[we]===void 0&&(Se[we]=Fe[we]);return{$$typeof:i,type:D,key:Re,ref:Me,props:Se,_owner:Te.current}}function A(D,b){return{$$typeof:i,type:D.type,key:b,ref:D.ref,props:D.props,_owner:D._owner}}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function V(D){var b={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(fe){return b[fe]})}var O=/\/+/g;function I(D,b){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):b.toString(36)}function Ze(D,b,fe,we,Se){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(Re){case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case i:case e:Me=!0}}if(Me)return Me=D,Se=Se(Me),D=we===""?"."+I(Me,0):we,de(Se)?(fe="",D!=null&&(fe=D.replace(O,"$&/")+"/"),Ze(Se,b,fe,"",function(yt){return yt})):Se!=null&&(x(Se)&&(Se=A(Se,fe+(!Se.key||Me&&Me.key===Se.key?"":(""+Se.key).replace(O,"$&/")+"/")+D)),b.push(Se)),1;if(Me=0,we=we===""?".":we+":",de(D))for(var Fe=0;Fe<D.length;Fe++){Re=D[Fe];var Be=we+I(Re,Fe);Me+=Ze(Re,b,fe,Be,Se)}else if(Be=P(D),typeof Be=="function")for(D=Be.call(D),Fe=0;!(Re=D.next()).done;)Re=Re.value,Be=we+I(Re,Fe++),Me+=Ze(Re,b,fe,Be,Se);else if(Re==="object")throw b=String(D),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(D,b,fe){if(D==null)return D;var we=[],Se=0;return Ze(D,we,"","",function(Re){return b.call(fe,Re,Se++)}),we}function xt(D){if(D._status===-1){var b=D._result;b=b(),b.then(function(fe){(D._status===0||D._status===-1)&&(D._status=1,D._result=fe)},function(fe){(D._status===0||D._status===-1)&&(D._status=2,D._result=fe)}),D._status===-1&&(D._status=0,D._result=b)}if(D._status===1)return D._result.default;throw D._result}var je={current:null},Z={transition:null},pe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Te};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:kt,forEach:function(D,b,fe){kt(D,function(){b.apply(this,arguments)},fe)},count:function(D){var b=0;return kt(D,function(){b++}),b},toArray:function(D){return kt(D,function(b){return b})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=z,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=Y,Ie.StrictMode=s,Ie.Suspense=y,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ie.act=ie,Ie.cloneElement=function(D,b,fe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var we=K({},D.props),Se=D.key,Re=D.ref,Me=D._owner;if(b!=null){if(b.ref!==void 0&&(Re=b.ref,Me=Te.current),b.key!==void 0&&(Se=""+b.key),D.type&&D.type.defaultProps)var Fe=D.type.defaultProps;for(Be in b)Le.call(b,Be)&&!N.hasOwnProperty(Be)&&(we[Be]=b[Be]===void 0&&Fe!==void 0?Fe[Be]:b[Be])}var Be=arguments.length-2;if(Be===1)we.children=fe;else if(1<Be){Fe=Array(Be);for(var yt=0;yt<Be;yt++)Fe[yt]=arguments[yt+2];we.children=Fe}return{$$typeof:i,type:D.type,key:Se,ref:Re,props:we,_owner:Me}},Ie.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Ie.createElement=S,Ie.createFactory=function(D){var b=S.bind(null,D);return b.type=D,b},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:m,render:D}},Ie.isValidElement=x,Ie.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:xt}},Ie.memo=function(D,b){return{$$typeof:_,type:D,compare:b===void 0?null:b}},Ie.startTransition=function(D){var b=Z.transition;Z.transition={};try{D()}finally{Z.transition=b}},Ie.unstable_act=ie,Ie.useCallback=function(D,b){return je.current.useCallback(D,b)},Ie.useContext=function(D){return je.current.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D){return je.current.useDeferredValue(D)},Ie.useEffect=function(D,b){return je.current.useEffect(D,b)},Ie.useId=function(){return je.current.useId()},Ie.useImperativeHandle=function(D,b,fe){return je.current.useImperativeHandle(D,b,fe)},Ie.useInsertionEffect=function(D,b){return je.current.useInsertionEffect(D,b)},Ie.useLayoutEffect=function(D,b){return je.current.useLayoutEffect(D,b)},Ie.useMemo=function(D,b){return je.current.useMemo(D,b)},Ie.useReducer=function(D,b,fe){return je.current.useReducer(D,b,fe)},Ie.useRef=function(D){return je.current.useRef(D)},Ie.useState=function(D){return je.current.useState(D)},Ie.useSyncExternalStore=function(D,b,fe){return je.current.useSyncExternalStore(D,b,fe)},Ie.useTransition=function(){return je.current.useTransition()},Ie.version="18.3.1",Ie}var pp;function Nh(){return pp||(pp=1,$c.exports=Nv()),$c.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Vv(){if(mp)return Qo;mp=1;var i=Nh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,_){var w,C={},P=null,B=null;_!==void 0&&(P=""+_),y.key!==void 0&&(P=""+y.key),y.ref!==void 0&&(B=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(C[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)C[w]===void 0&&(C[w]=y[w]);return{$$typeof:e,type:m,key:P,ref:B,props:C,_owner:a.current}}return Qo.Fragment=n,Qo.jsx=f,Qo.jsxs=f,Qo}var gp;function Dv(){return gp||(gp=1,bc.exports=Vv()),bc.exports}var ce=Dv(),ne=Nh();const zm=jm(ne),Ov=xv({__proto__:null,default:zm},[ne]);var Vl={},qc={exports:{}},Yt={},Hc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function Lv(){return yp||(yp=1,function(i){function e(Z,pe){var ie=Z.length;Z.push(pe);e:for(;0<ie;){var D=ie-1>>>1,b=Z[D];if(0<a(b,pe))Z[D]=pe,Z[ie]=b,ie=D;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var pe=Z[0],ie=Z.pop();if(ie!==pe){Z[0]=ie;e:for(var D=0,b=Z.length,fe=b>>>1;D<fe;){var we=2*(D+1)-1,Se=Z[we],Re=we+1,Me=Z[Re];if(0>a(Se,ie))Re<b&&0>a(Me,Se)?(Z[D]=Me,Z[Re]=ie,D=Re):(Z[D]=Se,Z[we]=ie,D=we);else if(Re<b&&0>a(Me,ie))Z[D]=Me,Z[Re]=ie,D=Re;else break e}}return pe}function a(Z,pe){var ie=Z.sortIndex-pe.sortIndex;return ie!==0?ie:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],_=[],w=1,C=null,P=3,B=!1,K=!1,W=!1,z=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(Z){for(var pe=n(_);pe!==null;){if(pe.callback===null)s(_);else if(pe.startTime<=Z)s(_),pe.sortIndex=pe.expirationTime,e(y,pe);else break;pe=n(_)}}function de(Z){if(W=!1,te(Z),!K)if(n(y)!==null)K=!0,xt(Le);else{var pe=n(_);pe!==null&&je(de,pe.startTime-Z)}}function Le(Z,pe){K=!1,W&&(W=!1,ee(S),S=-1),B=!0;var ie=P;try{for(te(pe),C=n(y);C!==null&&(!(C.expirationTime>pe)||Z&&!V());){var D=C.callback;if(typeof D=="function"){C.callback=null,P=C.priorityLevel;var b=D(C.expirationTime<=pe);pe=i.unstable_now(),typeof b=="function"?C.callback=b:C===n(y)&&s(y),te(pe)}else s(y);C=n(y)}if(C!==null)var fe=!0;else{var we=n(_);we!==null&&je(de,we.startTime-pe),fe=!1}return fe}finally{C=null,P=ie,B=!1}}var Te=!1,N=null,S=-1,A=5,x=-1;function V(){return!(i.unstable_now()-x<A)}function O(){if(N!==null){var Z=i.unstable_now();x=Z;var pe=!0;try{pe=N(!0,Z)}finally{pe?I():(Te=!1,N=null)}}else Te=!1}var I;if(typeof Y=="function")I=function(){Y(O)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,kt=Ze.port2;Ze.port1.onmessage=O,I=function(){kt.postMessage(null)}}else I=function(){z(O,0)};function xt(Z){N=Z,Te||(Te=!0,I())}function je(Z,pe){S=z(function(){Z(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_continueExecution=function(){K||B||(K=!0,xt(Le))},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return P},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(Z){switch(P){case 1:case 2:case 3:var pe=3;break;default:pe=P}var ie=P;P=pe;try{return Z()}finally{P=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=P;P=Z;try{return pe()}finally{P=ie}},i.unstable_scheduleCallback=function(Z,pe,ie){var D=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?D+ie:D):ie=D,Z){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ie+b,Z={id:w++,callback:pe,priorityLevel:Z,startTime:ie,expirationTime:b,sortIndex:-1},ie>D?(Z.sortIndex=ie,e(_,Z),n(y)===null&&Z===n(_)&&(W?(ee(S),S=-1):W=!0,je(de,ie-D))):(Z.sortIndex=b,e(y,Z),K||B||(K=!0,xt(Le))),Z},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(Z){var pe=P;return function(){var ie=P;P=pe;try{return Z.apply(this,arguments)}finally{P=ie}}}}(Qc)),Qc}var vp;function Mv(){return vp||(vp=1,Hc.exports=Lv()),Hc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Fv(){if(_p)return Yt;_p=1;var i=Nh(),e=Mv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function P(t){return y.call(C,t)?!0:y.call(w,t)?!1:_.test(t)?C[t]=!0:(w[t]=!0,!1)}function B(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K(t,r,o,u){if(r===null||typeof r>"u"||B(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function W(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new W(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new W(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new W(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new W(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new W(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new W(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new W(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new W(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new W(t,5,!1,t.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ee,Y);z[r]=new W(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ee,Y);z[r]=new W(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ee,Y);z[r]=new W(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new W(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new W(t,1,!1,t.toLowerCase(),null,!0,!0)});function te(t,r,o,u){var h=z.hasOwnProperty(r)?z[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(K(r,o,h,u)&&(o=null),u||h===null?P(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Le=Symbol.for("react.element"),Te=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,D;function b(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var fe=!1;function we(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,T=p.length-1;1<=v&&0<=T&&h[v]!==p[T];)T--;for(;1<=v&&0<=T;v--,T--)if(h[v]!==p[T]){if(v!==1||T!==1)do if(v--,T--,0>T||h[v]!==p[T]){var R=`
`+h[v].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=v&&0<=T);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function Se(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case Te:return"Portal";case A:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function yt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Gn(t){t._valueTracker||(t._valueTracker=yt(t))}function ji(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ii(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ys(t,r){r=r.checked,r!=null&&te(t,"checked",r,!1)}function Js(t,r){Ys(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Bi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Bi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ya(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Bi(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Xn=Array.isArray;function Yn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Zs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Xn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function $i(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function eo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ct(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jn,to=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Jn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(t){oi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),si[r]=si[t]})});function no(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||si.hasOwnProperty(t)&&si[t]?(""+r).trim():r+"px"}function ro(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=no(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var io=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(t,r){if(r){if(io[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function oo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,an=null,Vn=null;function Qi(t){if(t=No(t)){if(typeof Hi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Wa(r),Hi(t.stateNode,t.type,r))}}function Dn(t){an?Vn?Vn.push(t):Vn=[t]:an=t}function ao(){if(an){var t=an,r=Vn;if(Vn=an=null,Qi(t),r)for(t=0;t<r.length;t++)Qi(r[t])}}function li(t,r){return t(r)}function lo(){}var Zn=!1;function uo(t,r,o){if(Zn)return t(r,o);Zn=!0;try{return li(t,r,o)}finally{Zn=!1,(an!==null||Vn!==null)&&(lo(),ao())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=Wa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Wi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Wi=!1}function ui(t,r,o,u,h,p,v,T,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(H){this.onError(H)}}var ci=!1,Ki=null,vn=!1,co=null,gu={onError:function(t){ci=!0,Ki=t}};function Gi(t,r,o,u,h,p,v,T,R){ci=!1,Ki=null,ui.apply(gu,arguments)}function va(t,r,o,u,h,p,v,T,R){if(Gi.apply(this,arguments),ci){if(ci){var U=Ki;ci=!1,Ki=null}else throw Error(n(198));vn||(vn=!0,co=U)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function hi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(_n(t)!==t)throw Error(n(188))}function _a(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return En(h),t;if(p===u)return En(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,T=h.child;T;){if(T===o){v=!0,o=h,u=p;break}if(T===u){v=!0,u=h,o=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===o){v=!0,o=p,u=h;break}if(T===u){v=!0,u=p,o=h;break}T=T.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ho(t){return t=_a(t),t!==null?Xi(t):null}function Xi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Xi(t);if(r!==null)return r;t=t.sibling}return null}var Yi=e.unstable_scheduleCallback,fo=e.unstable_cancelCallback,Ea=e.unstable_shouldYield,yu=e.unstable_requestPaint,be=e.unstable_now,wa=e.unstable_getCurrentPriorityLevel,fi=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,po=e.unstable_LowPriority,Ta=e.unstable_IdlePriority,di=null,Zt=null;function Sa(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ca,mo=Math.log,Ia=Math.LN2;function Ca(t){return t>>>=0,t===0?32:31-(mo(t)/Ia|0)|0}var Ji=64,Zi=4194304;function vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var T=v&~h;T!==0?u=vr(T):(p&=v,p!==0&&(u=vr(p)))}else v=o&~h,v!==0?u=vr(v):p!==0&&(u=vr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-jt(r),h=1<<o,u|=t[o],r&=~h;return u}function vu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-jt(p),T=1<<v,R=h[v];R===-1?((T&o)===0||(T&u)!==0)&&(h[v]=vu(T,r)):R<=r&&(t.expiredLanes|=T),p&=~T}}function en(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mi(){var t=Ji;return Ji<<=1,(Ji&4194240)===0&&(Ji=64),t}function _r(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-jt(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-jt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-jt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ce=0;function Tr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Aa,es,Ra,Pa,ka,go=!1,On=[],St=null,wn=null,Tn=null,Sr=new Map,un=new Map,Ln=[],_u="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xa(t,r){switch(t){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Sr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(r.pointerId)}}function qt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=No(r),r!==null&&es(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Eu(t,r,o,u,h){switch(r){case"focusin":return St=qt(St,t,r,o,u,h),!0;case"dragenter":return wn=qt(wn,t,r,o,u,h),!0;case"mouseover":return Tn=qt(Tn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Sr.set(p,qt(Sr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,un.set(p,qt(un.get(p)||null,t,r,o,u,h)),!0}return!1}function Na(t){var r=Ei(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=hi(o),r!==null){t.blockedOn=r,ka(t.priority,function(){Ra(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ts(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ai=u,o.target.dispatchEvent(u),ai=null}else return r=No(o),r!==null&&es(r),t.blockedOn=o,!1;r.shift()}return!0}function gi(t,r,o){tr(t)&&o.delete(r)}function Va(){go=!1,St!==null&&tr(St)&&(St=null),wn!==null&&tr(wn)&&(wn=null),Tn!==null&&tr(Tn)&&(Tn=null),Sr.forEach(gi),un.forEach(gi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,go||(go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Va)))}function In(t){function r(h){return Sn(h,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var u=On[o];u.blockedOn===t&&(u.blockedOn=null)}}for(St!==null&&Sn(St,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),Sr.forEach(r),un.forEach(r),o=0;o<Ln.length;o++)u=Ln[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Ln.length&&(o=Ln[0],o.blockedOn===null);)Na(o),o.blockedOn===null&&Ln.shift()}var nr=de.ReactCurrentBatchConfig,Ir=!0;function We(t,r,o,u){var h=Ce,p=nr.transition;nr.transition=null;try{Ce=1,yo(t,r,o,u)}finally{Ce=h,nr.transition=p}}function wu(t,r,o,u){var h=Ce,p=nr.transition;nr.transition=null;try{Ce=4,yo(t,r,o,u)}finally{Ce=h,nr.transition=p}}function yo(t,r,o,u){if(Ir){var h=ts(t,r,o,u);if(h===null)Vu(t,r,u,yi,o),xa(t,u);else if(Eu(h,t,r,o,u))u.stopPropagation();else if(xa(t,u),r&4&&-1<_u.indexOf(t)){for(;h!==null;){var p=No(h);if(p!==null&&Aa(p),p=ts(t,r,o,u),p===null&&Vu(t,r,u,yi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Vu(t,r,u,null,o)}}var yi=null;function ts(t,r,o,u){if(yi=null,t=qi(u),t=Ei(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=hi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return yi=t,null}function vo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wa()){case fi:return 1;case yr:return 4;case ln:case po:return 16;case Ta:return 536870912;default:return 16}default:return 16}}var tn=null,ns=null,Ht=null;function _o(){if(Ht)return Ht;var t,r=ns,o=r.length,u,h="value"in tn?tn.value:tn.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return Ht=h.slice(t,1<u?1-u:void 0)}function rs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function Eo(){return!1}function It(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mn:Eo,this.isPropagationStopped=Eo,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=It(Cn),Fn=ie({},Cn,{view:0,detail:0}),Tu=It(Fn),ss,rr,Cr,vi=ie({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(ss=t.screenX-Cr.screenX,rr=t.screenY-Cr.screenY):rr=ss=0,Cr=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:rr}}),os=It(vi),wo=ie({},vi,{dataTransfer:0}),Da=It(wo),as=ie({},Fn,{relatedTarget:0}),ls=It(as),Oa=ie({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),ir=It(Oa),La=ie({},Cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=It(La),Fa=ie({},Cn,{data:0}),To=It(Fa),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ja(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ua[t])?!!r[t]:!1}function Un(){return ja}var l=ie({},Fn,{key:function(t){if(t.key){var r=us[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(l),g=ie({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=It(g),L=ie({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),j=It(L),J=ie({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=It(J),ft=ie({},vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=It(ft),vt=[9,13,27,32],it=m&&"CompositionEvent"in window,cn=null;m&&"documentMode"in document&&(cn=document.documentMode);var nn=m&&"TextEvent"in window&&!cn,_i=m&&(!it||cn&&8<cn&&11>=cn),cs=" ",af=!1;function lf(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function Ry(t,r){switch(t){case"compositionend":return uf(r);case"keypress":return r.which!==32?null:(af=!0,cs);case"textInput":return t=r.data,t===cs&&af?null:t;default:return null}}function Py(t,r){if(hs)return t==="compositionend"||!it&&lf(t,r)?(t=_o(),Ht=ns=tn=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _i&&r.locale!=="ko"?null:r.data;default:return null}}var ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ky[t.type]:r==="textarea"}function hf(t,r,o,u){Dn(u),r=qa(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var So=null,Io=null;function xy(t){kf(t,0)}function za(t){var r=gs(t);if(ji(r))return t}function Ny(t,r){if(t==="change")return r}var ff=!1;if(m){var Su;if(m){var Iu="oninput"in document;if(!Iu){var df=document.createElement("div");df.setAttribute("oninput","return;"),Iu=typeof df.oninput=="function"}Su=Iu}else Su=!1;ff=Su&&(!document.documentMode||9<document.documentMode)}function pf(){So&&(So.detachEvent("onpropertychange",mf),Io=So=null)}function mf(t){if(t.propertyName==="value"&&za(Io)){var r=[];hf(r,Io,t,qi(t)),uo(xy,r)}}function Vy(t,r,o){t==="focusin"?(pf(),So=r,Io=o,So.attachEvent("onpropertychange",mf)):t==="focusout"&&pf()}function Dy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return za(Io)}function Oy(t,r){if(t==="click")return za(r)}function Ly(t,r){if(t==="input"||t==="change")return za(r)}function My(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:My;function Co(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!An(t[h],r[h]))return!1}return!0}function gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yf(t,r){var o=gf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gf(o)}}function vf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?vf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function _f(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function Cu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Fy(t){var r=_f(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&vf(o.ownerDocument.documentElement,o)){if(u!==null&&Cu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=yf(o,p);var v=yf(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Uy=m&&"documentMode"in document&&11>=document.documentMode,fs=null,Au=null,Ao=null,Ru=!1;function Ef(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ru||fs==null||fs!==mr(u)||(u=fs,"selectionStart"in u&&Cu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ao&&Co(Ao,u)||(Ao=u,u=qa(Au,"onSelect"),0<u.length&&(r=new is("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=fs)))}function Ba(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ds={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},Pu={},wf={};m&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function ba(t){if(Pu[t])return Pu[t];if(!ds[t])return t;var r=ds[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in wf)return Pu[t]=r[o];return t}var Tf=ba("animationend"),Sf=ba("animationiteration"),If=ba("animationstart"),Cf=ba("transitionend"),Af=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,r){Af.set(t,r),c(r,[t])}for(var ku=0;ku<Rf.length;ku++){var xu=Rf[ku],jy=xu.toLowerCase(),zy=xu[0].toUpperCase()+xu.slice(1);Ar(jy,"on"+zy)}Ar(Tf,"onAnimationEnd"),Ar(Sf,"onAnimationIteration"),Ar(If,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Cf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),By=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Pf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,va(u,r,void 0,t),t.currentTarget=null}function kf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var T=u[v],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==p&&h.isPropagationStopped())break e;Pf(h,T,U),p=R}else for(v=0;v<u.length;v++){if(T=u[v],R=T.instance,U=T.currentTarget,T=T.listener,R!==p&&h.isPropagationStopped())break e;Pf(h,T,U),p=R}}}if(vn)throw t=co,vn=!1,co=null,t}function qe(t,r){var o=r[Uu];o===void 0&&(o=r[Uu]=new Set);var u=t+"__bubble";o.has(u)||(xf(r,t,2,!1),o.add(u))}function Nu(t,r,o){var u=0;r&&(u|=4),xf(o,t,u,r)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[$a]){t[$a]=!0,s.forEach(function(o){o!=="selectionchange"&&(By.has(o)||Nu(o,!1,t),Nu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[$a]||(r[$a]=!0,Nu("selectionchange",!1,r))}}function xf(t,r,o,u){switch(vo(r)){case 1:var h=We;break;case 4:h=wu;break;default:h=yo}o=h.bind(null,r,o,t),h=void 0,!Wi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Vu(t,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(R=v.tag,R===5||R===6){u=p=v;continue e}T=T.parentNode}}u=u.return}uo(function(){var U=p,H=qi(o),Q=[];e:{var q=Af.get(t);if(q!==void 0){var re=is,ae=t;switch(t){case"keypress":if(rs(o)===0)break e;case"keydown":case"keyup":re=d;break;case"focusin":ae="focus",re=ls;break;case"focusout":ae="blur",re=ls;break;case"beforeblur":case"afterblur":re=ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Da;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=j;break;case Tf:case Sf:case If:re=ir;break;case Cf:re=Ue;break;case"scroll":re=Tu;break;case"wheel":re=Pe;break;case"copy":case"cut":case"paste":re=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var le=(r&4)!==0,tt=!le&&t==="scroll",M=le?q!==null?q+"Capture":null:q;le=[];for(var k=U,F;k!==null;){F=k;var G=F.stateNode;if(F.tag===5&&G!==null&&(F=G,M!==null&&(G=et(k,M),G!=null&&le.push(ko(k,G,F)))),tt)break;k=k.return}0<le.length&&(q=new re(q,ae,null,o,H),Q.push({event:q,listeners:le}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",q&&o!==ai&&(ae=o.relatedTarget||o.fromElement)&&(Ei(ae)||ae[sr]))break e;if((re||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=U,ae=ae?Ei(ae):null,ae!==null&&(tt=_n(ae),ae!==tt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=U),re!==ae)){if(le=os,G="onMouseLeave",M="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,G="onPointerLeave",M="onPointerEnter",k="pointer"),tt=re==null?q:gs(re),F=ae==null?q:gs(ae),q=new le(G,k+"leave",re,o,H),q.target=tt,q.relatedTarget=F,G=null,Ei(H)===U&&(le=new le(M,k+"enter",ae,o,H),le.target=F,le.relatedTarget=tt,G=le),tt=G,re&&ae)t:{for(le=re,M=ae,k=0,F=le;F;F=ps(F))k++;for(F=0,G=M;G;G=ps(G))F++;for(;0<k-F;)le=ps(le),k--;for(;0<F-k;)M=ps(M),F--;for(;k--;){if(le===M||M!==null&&le===M.alternate)break t;le=ps(le),M=ps(M)}le=null}else le=null;re!==null&&Nf(Q,q,re,le,!1),ae!==null&&tt!==null&&Nf(Q,tt,ae,le,!0)}}e:{if(q=U?gs(U):window,re=q.nodeName&&q.nodeName.toLowerCase(),re==="select"||re==="input"&&q.type==="file")var ue=Ny;else if(cf(q))if(ff)ue=Ly;else{ue=Dy;var me=Vy}else(re=q.nodeName)&&re.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ue=Oy);if(ue&&(ue=ue(t,U))){hf(Q,ue,o,H);break e}me&&me(t,q,U),t==="focusout"&&(me=q._wrapperState)&&me.controlled&&q.type==="number"&&Bi(q,"number",q.value)}switch(me=U?gs(U):window,t){case"focusin":(cf(me)||me.contentEditable==="true")&&(fs=me,Au=U,Ao=null);break;case"focusout":Ao=Au=fs=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Ef(Q,o,H);break;case"selectionchange":if(Uy)break;case"keydown":case"keyup":Ef(Q,o,H)}var ge;if(it)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else hs?lf(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(_i&&o.locale!=="ko"&&(hs||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&hs&&(ge=_o()):(tn=H,ns="value"in tn?tn.value:tn.textContent,hs=!0)),me=qa(U,ve),0<me.length&&(ve=new To(ve,t,null,o,H),Q.push({event:ve,listeners:me}),ge?ve.data=ge:(ge=uf(o),ge!==null&&(ve.data=ge)))),(ge=nn?Ry(t,o):Py(t,o))&&(U=qa(U,"onBeforeInput"),0<U.length&&(H=new To("onBeforeInput","beforeinput",null,o,H),Q.push({event:H,listeners:U}),H.data=ge))}kf(Q,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function qa(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(ko(t,p,h)),p=et(t,r),p!=null&&u.push(ko(t,p,h))),t=t.return}return u}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nf(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var T=o,R=T.alternate,U=T.stateNode;if(R!==null&&R===u)break;T.tag===5&&U!==null&&(T=U,h?(R=et(o,p),R!=null&&v.unshift(ko(o,R,T))):h||(R=et(o,p),R!=null&&v.push(ko(o,R,T)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var by=/\r\n?/g,$y=/\u0000|\uFFFD/g;function Vf(t){return(typeof t=="string"?t:""+t).replace(by,`
`).replace($y,"")}function Ha(t,r,o){if(r=Vf(r),Vf(t)!==r&&o)throw Error(n(425))}function Qa(){}var Du=null,Ou=null;function Lu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mu=typeof setTimeout=="function"?setTimeout:void 0,qy=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(t){return Df.resolve(null).then(t).catch(Qy)}:Mu;function Qy(t){setTimeout(function(){throw t})}function Fu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Rr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Of(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),jn="__reactFiber$"+ms,xo="__reactProps$"+ms,sr="__reactContainer$"+ms,Uu="__reactEvents$"+ms,Wy="__reactListeners$"+ms,Ky="__reactHandles$"+ms;function Ei(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[sr]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Of(t);t!==null;){if(o=t[jn])return o;t=Of(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[jn]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Wa(t){return t[xo]||null}var ju=[],ys=-1;function Pr(t){return{current:t}}function He(t){0>ys||(t.current=ju[ys],ju[ys]=null,ys--)}function $e(t,r){ys++,ju[ys]=t.current,t.current=r}var kr={},Nt=Pr(kr),Qt=Pr(!1),wi=kr;function vs(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Wt(t){return t=t.childContextTypes,t!=null}function Ka(){He(Qt),He(Nt)}function Lf(t,r,o){if(Nt.current!==kr)throw Error(n(168));$e(Nt,r),$e(Qt,o)}function Mf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Me(t)||"Unknown",h));return ie({},o,u)}function Ga(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,wi=Nt.current,$e(Nt,t),$e(Qt,Qt.current),!0}function Ff(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Mf(t,r,wi),u.__reactInternalMemoizedMergedChildContext=t,He(Qt),He(Nt),$e(Nt,t)):He(Qt),$e(Qt,o)}var or=null,Xa=!1,zu=!1;function Uf(t){or===null?or=[t]:or.push(t)}function Gy(t){Xa=!0,Uf(t)}function xr(){if(!zu&&or!==null){zu=!0;var t=0,r=Ce;try{var o=or;for(Ce=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}or=null,Xa=!1}catch(h){throw or!==null&&(or=or.slice(t+1)),Yi(fi,xr),h}finally{Ce=r,zu=!1}}return null}var _s=[],Es=0,Ya=null,Ja=0,hn=[],fn=0,Ti=null,ar=1,lr="";function Si(t,r){_s[Es++]=Ja,_s[Es++]=Ya,Ya=t,Ja=r}function jf(t,r,o){hn[fn++]=ar,hn[fn++]=lr,hn[fn++]=Ti,Ti=t;var u=ar;t=lr;var h=32-jt(u)-1;u&=~(1<<h),o+=1;var p=32-jt(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,ar=1<<32-jt(r)+h|o<<h|u,lr=p+t}else ar=1<<p|o<<h|u,lr=t}function Bu(t){t.return!==null&&(Si(t,1),jf(t,1,0))}function bu(t){for(;t===Ya;)Ya=_s[--Es],_s[Es]=null,Ja=_s[--Es],_s[Es]=null;for(;t===Ti;)Ti=hn[--fn],hn[fn]=null,lr=hn[--fn],hn[fn]=null,ar=hn[--fn],hn[fn]=null}var rn=null,sn=null,Ke=!1,Rn=null;function zf(t,r){var o=gn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Bf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,rn=t,sn=Rr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,rn=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ti!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=gn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,rn=t,sn=null,!0):!1;default:return!1}}function $u(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qu(t){if(Ke){var r=sn;if(r){var o=r;if(!Bf(t,r)){if($u(t))throw Error(n(418));r=Rr(o.nextSibling);var u=rn;r&&Bf(t,r)?zf(u,o):(t.flags=t.flags&-4097|2,Ke=!1,rn=t)}}else{if($u(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,rn=t}}}function bf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Za(t){if(t!==rn)return!1;if(!Ke)return bf(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Lu(t.type,t.memoizedProps)),r&&(r=sn)){if($u(t))throw $f(),Error(n(418));for(;r;)zf(t,r),r=Rr(r.nextSibling)}if(bf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){sn=Rr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=rn?Rr(t.stateNode.nextSibling):null;return!0}function $f(){for(var t=sn;t;)t=Rr(t.nextSibling)}function ws(){sn=rn=null,Ke=!1}function Hu(t){Rn===null?Rn=[t]:Rn.push(t)}var Xy=de.ReactCurrentBatchConfig;function Vo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var T=h.refs;v===null?delete T[p]:T[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function el(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function qf(t){var r=t._init;return r(t._payload)}function Hf(t){function r(M,k){if(t){var F=M.deletions;F===null?(M.deletions=[k],M.flags|=16):F.push(k)}}function o(M,k){if(!t)return null;for(;k!==null;)r(M,k),k=k.sibling;return null}function u(M,k){for(M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(M,k){return M=Ur(M,k),M.index=0,M.sibling=null,M}function p(M,k,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<k?(M.flags|=2,k):F):(M.flags|=2,k)):(M.flags|=1048576,k)}function v(M){return t&&M.alternate===null&&(M.flags|=2),M}function T(M,k,F,G){return k===null||k.tag!==6?(k=Mc(F,M.mode,G),k.return=M,k):(k=h(k,F),k.return=M,k)}function R(M,k,F,G){var ue=F.type;return ue===N?H(M,k,F.props.children,G,F.key):k!==null&&(k.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&qf(ue)===k.type)?(G=h(k,F.props),G.ref=Vo(M,k,F),G.return=M,G):(G=Il(F.type,F.key,F.props,null,M.mode,G),G.ref=Vo(M,k,F),G.return=M,G)}function U(M,k,F,G){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Fc(F,M.mode,G),k.return=M,k):(k=h(k,F.children||[]),k.return=M,k)}function H(M,k,F,G,ue){return k===null||k.tag!==7?(k=Ni(F,M.mode,G,ue),k.return=M,k):(k=h(k,F),k.return=M,k)}function Q(M,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Mc(""+k,M.mode,F),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Le:return F=Il(k.type,k.key,k.props,null,M.mode,F),F.ref=Vo(M,null,k),F.return=M,F;case Te:return k=Fc(k,M.mode,F),k.return=M,k;case xt:var G=k._init;return Q(M,G(k._payload),F)}if(Xn(k)||pe(k))return k=Ni(k,M.mode,F,null),k.return=M,k;el(M,k)}return null}function q(M,k,F,G){var ue=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:T(M,k,""+F,G);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Le:return F.key===ue?R(M,k,F,G):null;case Te:return F.key===ue?U(M,k,F,G):null;case xt:return ue=F._init,q(M,k,ue(F._payload),G)}if(Xn(F)||pe(F))return ue!==null?null:H(M,k,F,G,null);el(M,F)}return null}function re(M,k,F,G,ue){if(typeof G=="string"&&G!==""||typeof G=="number")return M=M.get(F)||null,T(k,M,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Le:return M=M.get(G.key===null?F:G.key)||null,R(k,M,G,ue);case Te:return M=M.get(G.key===null?F:G.key)||null,U(k,M,G,ue);case xt:var me=G._init;return re(M,k,F,me(G._payload),ue)}if(Xn(G)||pe(G))return M=M.get(F)||null,H(k,M,G,ue,null);el(k,G)}return null}function ae(M,k,F,G){for(var ue=null,me=null,ge=k,ve=k=0,wt=null;ge!==null&&ve<F.length;ve++){ge.index>ve?(wt=ge,ge=null):wt=ge.sibling;var Oe=q(M,ge,F[ve],G);if(Oe===null){ge===null&&(ge=wt);break}t&&ge&&Oe.alternate===null&&r(M,ge),k=p(Oe,k,ve),me===null?ue=Oe:me.sibling=Oe,me=Oe,ge=wt}if(ve===F.length)return o(M,ge),Ke&&Si(M,ve),ue;if(ge===null){for(;ve<F.length;ve++)ge=Q(M,F[ve],G),ge!==null&&(k=p(ge,k,ve),me===null?ue=ge:me.sibling=ge,me=ge);return Ke&&Si(M,ve),ue}for(ge=u(M,ge);ve<F.length;ve++)wt=re(ge,M,ve,F[ve],G),wt!==null&&(t&&wt.alternate!==null&&ge.delete(wt.key===null?ve:wt.key),k=p(wt,k,ve),me===null?ue=wt:me.sibling=wt,me=wt);return t&&ge.forEach(function(jr){return r(M,jr)}),Ke&&Si(M,ve),ue}function le(M,k,F,G){var ue=pe(F);if(typeof ue!="function")throw Error(n(150));if(F=ue.call(F),F==null)throw Error(n(151));for(var me=ue=null,ge=k,ve=k=0,wt=null,Oe=F.next();ge!==null&&!Oe.done;ve++,Oe=F.next()){ge.index>ve?(wt=ge,ge=null):wt=ge.sibling;var jr=q(M,ge,Oe.value,G);if(jr===null){ge===null&&(ge=wt);break}t&&ge&&jr.alternate===null&&r(M,ge),k=p(jr,k,ve),me===null?ue=jr:me.sibling=jr,me=jr,ge=wt}if(Oe.done)return o(M,ge),Ke&&Si(M,ve),ue;if(ge===null){for(;!Oe.done;ve++,Oe=F.next())Oe=Q(M,Oe.value,G),Oe!==null&&(k=p(Oe,k,ve),me===null?ue=Oe:me.sibling=Oe,me=Oe);return Ke&&Si(M,ve),ue}for(ge=u(M,ge);!Oe.done;ve++,Oe=F.next())Oe=re(ge,M,ve,Oe.value,G),Oe!==null&&(t&&Oe.alternate!==null&&ge.delete(Oe.key===null?ve:Oe.key),k=p(Oe,k,ve),me===null?ue=Oe:me.sibling=Oe,me=Oe);return t&&ge.forEach(function(kv){return r(M,kv)}),Ke&&Si(M,ve),ue}function tt(M,k,F,G){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Le:e:{for(var ue=F.key,me=k;me!==null;){if(me.key===ue){if(ue=F.type,ue===N){if(me.tag===7){o(M,me.sibling),k=h(me,F.props.children),k.return=M,M=k;break e}}else if(me.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&qf(ue)===me.type){o(M,me.sibling),k=h(me,F.props),k.ref=Vo(M,me,F),k.return=M,M=k;break e}o(M,me);break}else r(M,me);me=me.sibling}F.type===N?(k=Ni(F.props.children,M.mode,G,F.key),k.return=M,M=k):(G=Il(F.type,F.key,F.props,null,M.mode,G),G.ref=Vo(M,k,F),G.return=M,M=G)}return v(M);case Te:e:{for(me=F.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){o(M,k.sibling),k=h(k,F.children||[]),k.return=M,M=k;break e}else{o(M,k);break}else r(M,k);k=k.sibling}k=Fc(F,M.mode,G),k.return=M,M=k}return v(M);case xt:return me=F._init,tt(M,k,me(F._payload),G)}if(Xn(F))return ae(M,k,F,G);if(pe(F))return le(M,k,F,G);el(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,k!==null&&k.tag===6?(o(M,k.sibling),k=h(k,F),k.return=M,M=k):(o(M,k),k=Mc(F,M.mode,G),k.return=M,M=k),v(M)):o(M,k)}return tt}var Ts=Hf(!0),Qf=Hf(!1),tl=Pr(null),nl=null,Ss=null,Qu=null;function Wu(){Qu=Ss=nl=null}function Ku(t){var r=tl.current;He(tl),t._currentValue=r}function Gu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){nl=t,Qu=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Kt=!0),t.firstContext=null)}function dn(t){var r=t._currentValue;if(Qu!==t)if(t={context:t,memoizedValue:r,next:null},Ss===null){if(nl===null)throw Error(n(308));Ss=t,nl.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return r}var Ii=null;function Xu(t){Ii===null?Ii=[t]:Ii.push(t)}function Wf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Xu(r)):(o.next=h.next,h.next=o),r.interleaved=o,ur(t,u)}function ur(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Nr=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Vr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ur(t,o)}return h=u.interleaved,h===null?(r.next=r,Xu(u)):(r.next=h.next,h.next=r),u.interleaved=r,ur(t,o)}function rl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function Gf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function il(t,r,o,u){var h=t.updateQueue;Nr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,v===null?p=U:v.next=U,v=R;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==v&&(T===null?H.firstBaseUpdate=U:T.next=U,H.lastBaseUpdate=R))}if(p!==null){var Q=h.baseState;v=0,H=U=R=null,T=p;do{var q=T.lane,re=T.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:re,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ae=t,le=T;switch(q=r,re=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Q=ae.call(re,Q,q);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,q=typeof ae=="function"?ae.call(re,Q,q):ae,q==null)break e;Q=ie({},Q,q);break e;case 2:Nr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[T]:q.push(T))}else re={eventTime:re,lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(U=H=re,R=Q):H=H.next=re,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ri|=v,t.lanes=v,t.memoizedState=Q}}function Xf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Do={},zn=Pr(Do),Oo=Pr(Do),Lo=Pr(Do);function Ci(t){if(t===Do)throw Error(n(174));return t}function Ju(t,r){switch($e(Lo,r),$e(Oo,t),$e(zn,Do),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}He(zn),$e(zn,r)}function Cs(){He(zn),He(Oo),He(Lo)}function Yf(t){Ci(Lo.current);var r=Ci(zn.current),o=ht(r,t.type);r!==o&&($e(Oo,t),$e(zn,o))}function Zu(t){Oo.current===t&&(He(zn),He(Oo))}var Ge=Pr(0);function sl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ec=[];function tc(){for(var t=0;t<ec.length;t++)ec[t]._workInProgressVersionPrimary=null;ec.length=0}var ol=de.ReactCurrentDispatcher,nc=de.ReactCurrentBatchConfig,Ai=0,Xe=null,dt=null,_t=null,al=!1,Mo=!1,Fo=0,Yy=0;function Vt(){throw Error(n(321))}function rc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function ic(t,r,o,u,h,p){if(Ai=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ol.current=t===null||t.memoizedState===null?tv:nv,t=o(u,h),Mo){p=0;do{if(Mo=!1,Fo=0,25<=p)throw Error(n(301));p+=1,_t=dt=null,r.updateQueue=null,ol.current=rv,t=o(u,h)}while(Mo)}if(ol.current=cl,r=dt!==null&&dt.next!==null,Ai=0,_t=dt=Xe=null,al=!1,r)throw Error(n(300));return t}function sc(){var t=Fo!==0;return Fo=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function pn(){if(dt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=_t===null?Xe.memoizedState:_t.next;if(r!==null)_t=r,dt=t;else{if(t===null)throw Error(n(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Uo(t,r){return typeof r=="function"?r(t):r}function oc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=dt,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=v=null,R=null,U=p;do{var H=U.lane;if((Ai&H)===H)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var Q={lane:H,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(T=R=Q,v=u):R=R.next=Q,Xe.lanes|=H,Ri|=H}U=U.next}while(U!==null&&U!==p);R===null?v=u:R.next=T,An(u,r.memoizedState)||(Kt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,Ri|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ac(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);An(p,r.memoizedState)||(Kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Jf(){}function Zf(t,r){var o=Xe,u=pn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,Kt=!0),u=u.queue,lc(nd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,jo(9,td.bind(null,o,u,h,r),void 0,null),Et===null)throw Error(n(349));(Ai&30)!==0||ed(o,r,h)}return h}function ed(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function td(t,r,o,u){r.value=o,r.getSnapshot=u,rd(r)&&id(t)}function nd(t,r,o){return o(function(){rd(r)&&id(t)})}function rd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function id(t){var r=ur(t,1);r!==null&&Nn(r,t,1,-1)}function sd(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},r.queue=t,t=t.dispatch=ev.bind(null,Xe,t),[r.memoizedState,t]}function jo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function od(){return pn().memoizedState}function ll(t,r,o,u){var h=Bn();Xe.flags|=t,h.memoizedState=jo(1|r,o,void 0,u===void 0?null:u)}function ul(t,r,o,u){var h=pn();u=u===void 0?null:u;var p=void 0;if(dt!==null){var v=dt.memoizedState;if(p=v.destroy,u!==null&&rc(u,v.deps)){h.memoizedState=jo(r,o,p,u);return}}Xe.flags|=t,h.memoizedState=jo(1|r,o,p,u)}function ad(t,r){return ll(8390656,8,t,r)}function lc(t,r){return ul(2048,8,t,r)}function ld(t,r){return ul(4,2,t,r)}function ud(t,r){return ul(4,4,t,r)}function cd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function hd(t,r,o){return o=o!=null?o.concat([t]):null,ul(4,4,cd.bind(null,r,t),o)}function uc(){}function fd(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function dd(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function pd(t,r,o){return(Ai&21)===0?(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=o):(An(o,r)||(o=mi(),Xe.lanes|=o,Ri|=o,t.baseState=!0),r)}function Jy(t,r){var o=Ce;Ce=o!==0&&4>o?o:4,t(!0);var u=nc.transition;nc.transition={};try{t(!1),r()}finally{Ce=o,nc.transition=u}}function md(){return pn().memoizedState}function Zy(t,r,o){var u=Mr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},gd(t))yd(r,o);else if(o=Wf(t,r,o,u),o!==null){var h=bt();Nn(o,t,u,h),vd(o,r,u)}}function ev(t,r,o){var u=Mr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(gd(t))yd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,T=p(v,o);if(h.hasEagerState=!0,h.eagerState=T,An(T,v)){var R=r.interleaved;R===null?(h.next=h,Xu(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Wf(t,r,h,u),o!==null&&(h=bt(),Nn(o,t,u,h),vd(o,r,u))}}function gd(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function yd(t,r){Mo=al=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function vd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var cl={readContext:dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},tv={readContext:dn,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:ad,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,ll(4194308,4,cd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return ll(4194308,4,t,r)},useInsertionEffect:function(t,r){return ll(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Zy.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:sd,useDebugValue:uc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=sd(!1),r=t[0];return t=Jy.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Xe,h=Bn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Et===null)throw Error(n(349));(Ai&30)!==0||ed(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,ad(nd.bind(null,u,p,t),[t]),u.flags|=2048,jo(9,td.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=Et.identifierPrefix;if(Ke){var o=lr,u=ar;o=(u&~(1<<32-jt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Fo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Yy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},nv={readContext:dn,useCallback:fd,useContext:dn,useEffect:lc,useImperativeHandle:hd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:oc,useRef:od,useState:function(){return oc(Uo)},useDebugValue:uc,useDeferredValue:function(t){var r=pn();return pd(r,dt.memoizedState,t)},useTransition:function(){var t=oc(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:md,unstable_isNewReconciler:!1},rv={readContext:dn,useCallback:fd,useContext:dn,useEffect:lc,useImperativeHandle:hd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:ac,useRef:od,useState:function(){return ac(Uo)},useDebugValue:uc,useDeferredValue:function(t){var r=pn();return dt===null?r.memoizedState=t:pd(r,dt.memoizedState,t)},useTransition:function(){var t=ac(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:md,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function cc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var hl={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=bt(),h=Mr(t),p=cr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(Nn(r,t,h,u),rl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=bt(),h=Mr(t),p=cr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(Nn(r,t,h,u),rl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=bt(),u=Mr(t),h=cr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Vr(t,h,u),r!==null&&(Nn(r,t,u,o),rl(r,t,u))}};function _d(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Co(o,u)||!Co(h,p):!0}function Ed(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=dn(p):(h=Wt(r)?wi:Nt.current,u=r.contextTypes,p=(u=u!=null)?vs(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=hl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function wd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&hl.enqueueReplaceState(r,r.state,null)}function hc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Yu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=dn(p):(p=Wt(r)?wi:Nt.current,h.context=vs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(cc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&hl.enqueueReplaceState(h,h.state,null),il(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function As(t,r){try{var o="",u=r;do o+=Se(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function fc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function dc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var iv=typeof WeakMap=="function"?WeakMap:Map;function Td(t,r,o){o=cr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){vl||(vl=!0,Pc=u),dc(t,r)},o}function Sd(t,r,o){o=cr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){dc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){dc(t,r),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Id(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new iv;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=vv.bind(null,t,r,o),r.then(t,t))}function Cd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Ad(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=cr(-1,1),r.tag=2,Vr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var sv=de.ReactCurrentOwner,Kt=!1;function Bt(t,r,o,u){r.child=t===null?Qf(r,null,o,u):Ts(r,t.child,o,u)}function Rd(t,r,o,u,h){o=o.render;var p=r.ref;return Is(r,h),u=ic(t,r,o,u,p,h),o=sc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,hr(t,r,h)):(Ke&&o&&Bu(r),r.flags|=1,Bt(t,r,u,h),r.child)}function Pd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Lc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,kd(t,r,p,u,h)):(t=Il(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&h)===0){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(v,u)&&t.ref===r.ref)return hr(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function kd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Co(p,u)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Kt=!0);else return r.lanes=t.lanes,hr(t,r,h)}return pc(t,r,o,u,h)}function xd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ps,on),on|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(Ps,on),on|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,$e(Ps,on),on|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,$e(Ps,on),on|=u;return Bt(t,r,h,o),r.child}function Nd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function pc(t,r,o,u,h){var p=Wt(o)?wi:Nt.current;return p=vs(r,p),Is(r,h),o=ic(t,r,o,u,p,h),u=sc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,hr(t,r,h)):(Ke&&u&&Bu(r),r.flags|=1,Bt(t,r,o,h),r.child)}function Vd(t,r,o,u,h){if(Wt(o)){var p=!0;Ga(r)}else p=!1;if(Is(r,h),r.stateNode===null)dl(t,r),Ed(r,o,u),hc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,T=r.memoizedProps;v.props=T;var R=v.context,U=o.contextType;typeof U=="object"&&U!==null?U=dn(U):(U=Wt(o)?wi:Nt.current,U=vs(r,U));var H=o.getDerivedStateFromProps,Q=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";Q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==u||R!==U)&&wd(r,v,u,U),Nr=!1;var q=r.memoizedState;v.state=q,il(r,u,v,h),R=r.memoizedState,T!==u||q!==R||Qt.current||Nr?(typeof H=="function"&&(cc(r,o,H,u),R=r.memoizedState),(T=Nr||_d(r,o,T,u,q,R,U))?(Q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),v.props=u,v.state=R,v.context=U,u=T):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Kf(t,r),T=r.memoizedProps,U=r.type===r.elementType?T:Pn(r.type,T),v.props=U,Q=r.pendingProps,q=v.context,R=o.contextType,typeof R=="object"&&R!==null?R=dn(R):(R=Wt(o)?wi:Nt.current,R=vs(r,R));var re=o.getDerivedStateFromProps;(H=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Q||q!==R)&&wd(r,v,u,R),Nr=!1,q=r.memoizedState,v.state=q,il(r,u,v,h);var ae=r.memoizedState;T!==Q||q!==ae||Qt.current||Nr?(typeof re=="function"&&(cc(r,o,re,u),ae=r.memoizedState),(U=Nr||_d(r,o,U,u,q,ae,R)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,R)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),v.props=u,v.state=ae,v.context=R,u=U):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return mc(t,r,o,u,p,h)}function mc(t,r,o,u,h,p){Nd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Ff(r,o,!1),hr(t,r,p);u=r.stateNode,sv.current=r;var T=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=Ts(r,t.child,null,p),r.child=Ts(r,null,T,p)):Bt(t,r,T,p),r.memoizedState=u.state,h&&Ff(r,o,!0),r.child}function Dd(t){var r=t.stateNode;r.pendingContext?Lf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Lf(t,r.context,!1),Ju(t,r.containerInfo)}function Od(t,r,o,u,h){return ws(),Hu(h),r.flags|=256,Bt(t,r,o,u),r.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ld(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,v=(r.flags&128)!==0,T;if((T=v)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Ge,h&1),t===null)return qu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Cl(v,u,0,null),t=Ni(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=yc(o),r.memoizedState=gc,t):vc(r,v));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return ov(t,r,v,u,T,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,T=h.sibling;var R={mode:"hidden",children:u.children};return(v&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Ur(h,R),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=Ur(T,p):(p=Ni(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?yc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=gc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function vc(t,r){return r=Cl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function fl(t,r,o,u){return u!==null&&Hu(u),Ts(r,t.child,null,o),t=vc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ov(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=fc(Error(n(422))),fl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Cl({mode:"visible",children:u.children},h,0,null),p=Ni(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&Ts(r,t.child,null,v),r.child.memoizedState=yc(v),r.memoizedState=gc,p);if((r.mode&1)===0)return fl(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=fc(p,u,void 0),fl(t,r,v,u)}if(T=(v&t.childLanes)!==0,Kt||T){if(u=Et,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|v))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ur(t,h),Nn(u,t,h,-1))}return Oc(),u=fc(Error(n(421))),fl(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=_v.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,sn=Rr(h.nextSibling),rn=r,Ke=!0,Rn=null,t!==null&&(hn[fn++]=ar,hn[fn++]=lr,hn[fn++]=Ti,ar=t.id,lr=t.overflow,Ti=r),r=vc(r,u.children),r.flags|=4096,r)}function Md(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Gu(t.return,r,o)}function _c(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Fd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Ge.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Md(t,o,r);else if(t.tag===19)Md(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Ge,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&sl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),_c(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&sl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}_c(r,!0,o,null,p);break;case"together":_c(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function dl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function hr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function av(t,r,o){switch(r.tag){case 3:Dd(r),ws();break;case 5:Yf(r);break;case 1:Wt(r.type)&&Ga(r);break;case 4:Ju(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;$e(tl,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Ge,Ge.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Ld(t,r,o):($e(Ge,Ge.current&1),t=hr(t,r,o),t!==null?t.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Fd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,xd(t,r,o)}return hr(t,r,o)}var Ud,Ec,jd,zd;Ud=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ec=function(){},jd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ci(zn.current);var p=null;switch(o){case"input":h=ii(t,h),u=ii(t,u),p=[];break;case"select":h=ie({},h,{value:void 0}),u=ie({},u,{value:void 0}),p=[];break;case"textarea":h=Zs(t,h),u=Zs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Qa)}so(o,u);var v;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(v in T)T.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(T=h?.[U],u.hasOwnProperty(U)&&R!==T&&(R!=null||T!=null))if(U==="style")if(T){for(v in T)!T.hasOwnProperty(v)||R&&R.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in R)R.hasOwnProperty(v)&&T[v]!==R[v]&&(o||(o={}),o[v]=R[v])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&qe("scroll",t),p||T===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},zd=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function lv(t,r,o){var u=r.pendingProps;switch(bu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Wt(r.type)&&Ka(),Dt(r),null;case 3:return u=r.stateNode,Cs(),He(Qt),He(Nt),tc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Za(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rn!==null&&(Nc(Rn),Rn=null))),Ec(t,r),Dt(r),null;case 5:Zu(r);var h=Ci(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)jd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Ci(zn.current),Za(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[jn]=r,u[xo]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(h=0;h<Ro.length;h++)qe(Ro[h],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":zi(u,p),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qe("invalid",u);break;case"textarea":bi(u,p),qe("invalid",u)}so(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var T=p[v];v==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&Ha(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&Ha(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(v)&&T!=null&&v==="onScroll"&&qe("scroll",u)}switch(o){case"input":Gn(u),ya(u,p,!0);break;case"textarea":Gn(u),eo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Qa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ct(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[jn]=r,t[xo]=u,Ud(t,r,!1,!1),r.stateNode=t;e:{switch(v=oo(o,u),o){case"dialog":qe("cancel",t),qe("close",t),h=u;break;case"iframe":case"object":case"embed":qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Ro.length;h++)qe(Ro[h],t);h=u;break;case"source":qe("error",t),h=u;break;case"img":case"image":case"link":qe("error",t),qe("load",t),h=u;break;case"details":qe("toggle",t),h=u;break;case"input":zi(t,u),h=ii(t,u),qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ie({},u,{value:void 0}),qe("invalid",t);break;case"textarea":bi(t,u),h=Zs(t,u),qe("invalid",t);break;default:h=u}so(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?ro(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&to(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&gr(t,R):typeof R=="number"&&gr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&qe("scroll",t):R!=null&&te(t,p,R,v))}switch(o){case"input":Gn(t),ya(t,u,!1);break;case"textarea":Gn(t),eo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Yn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Yn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Qa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)zd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ci(Lo.current),Ci(zn.current),Za(r)){if(u=r.stateNode,o=r.memoizedProps,u[jn]=r,(p=u.nodeValue!==o)&&(t=rn,t!==null))switch(t.tag){case 3:Ha(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[jn]=r,r.stateNode=u}return Dt(r),null;case 13:if(He(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&sn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)$f(),ws(),r.flags|=98560,p=!1;else if(p=Za(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else ws(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Rn!==null&&(Nc(Rn),Rn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ge.current&1)!==0?pt===0&&(pt=3):Oc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return Cs(),Ec(t,r),t===null&&Po(r.stateNode.containerInfo),Dt(r),null;case 10:return Ku(r.type._context),Dt(r),null;case 17:return Wt(r.type)&&Ka(),Dt(r),null;case 19:if(He(Ge),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)zo(p,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(v=sl(t),v!==null){for(r.flags|=128,zo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return $e(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&be()>ks&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=sl(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ke)return Dt(r),null}else 2*be()-p.renderingStartTime>ks&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=be(),r.sibling=null,o=Ge.current,$e(Ge,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Dc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(on&1073741824)!==0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function uv(t,r){switch(bu(r),r.tag){case 1:return Wt(r.type)&&Ka(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Cs(),He(Qt),He(Nt),tc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Zu(r),null;case 13:if(He(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ws()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return He(Ge),null;case 4:return Cs(),null;case 10:return Ku(r.type._context),null;case 22:case 23:return Dc(),null;case 24:return null;default:return null}}var pl=!1,Ot=!1,cv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Rs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Je(t,r,u)}else o.current=null}function wc(t,r,o){try{o()}catch(u){Je(t,r,u)}}var Bd=!1;function hv(t,r){if(Du=Ir,t=_f(),Cu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,T=-1,R=-1,U=0,H=0,Q=t,q=null;t:for(;;){for(var re;Q!==o||h!==0&&Q.nodeType!==3||(T=v+h),Q!==p||u!==0&&Q.nodeType!==3||(R=v+u),Q.nodeType===3&&(v+=Q.nodeValue.length),(re=Q.firstChild)!==null;)q=Q,Q=re;for(;;){if(Q===t)break t;if(q===o&&++U===h&&(T=v),q===p&&++H===u&&(R=v),(re=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=re}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ou={focusedElem:t,selectionRange:o},Ir=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,tt=ae.memoizedState,M=r.stateNode,k=M.getSnapshotBeforeUpdate(r.elementType===r.type?le:Pn(r.type,le),tt);M.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){Je(r,r.return,G)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=Bd,Bd=!1,ae}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&wc(r,o,p)}h=h.next}while(h!==u)}}function ml(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Tc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function bd(t){var r=t.alternate;r!==null&&(t.alternate=null,bd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[xo],delete r[Uu],delete r[Wy],delete r[Ky])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $d(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$d(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Qa));else if(u!==4&&(t=t.child,t!==null))for(Sc(t,r,o),t=t.sibling;t!==null;)Sc(t,r,o),t=t.sibling}function Ic(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ic(t,r,o),t=t.sibling;t!==null;)Ic(t,r,o),t=t.sibling}var Ct=null,kn=!1;function Dr(t,r,o){for(o=o.child;o!==null;)Hd(t,r,o),o=o.sibling}function Hd(t,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(di,o)}catch{}switch(o.tag){case 5:Ot||Rs(o,r);case 6:var u=Ct,h=kn;Ct=null,Dr(t,r,o),Ct=u,kn=h,Ct!==null&&(kn?(t=Ct,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ct.removeChild(o.stateNode));break;case 18:Ct!==null&&(kn?(t=Ct,o=o.stateNode,t.nodeType===8?Fu(t.parentNode,o):t.nodeType===1&&Fu(t,o),In(t)):Fu(Ct,o.stateNode));break;case 4:u=Ct,h=kn,Ct=o.stateNode.containerInfo,kn=!0,Dr(t,r,o),Ct=u,kn=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&wc(o,r,v),h=h.next}while(h!==u)}Dr(t,r,o);break;case 1:if(!Ot&&(Rs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){Je(o,r,T)}Dr(t,r,o);break;case 21:Dr(t,r,o);break;case 22:o.mode&1?(Ot=(u=Ot)||o.memoizedState!==null,Dr(t,r,o),Ot=u):Dr(t,r,o);break;default:Dr(t,r,o)}}function Qd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new cv),r.forEach(function(u){var h=Ev.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 5:Ct=T.stateNode,kn=!1;break e;case 3:Ct=T.stateNode.containerInfo,kn=!0;break e;case 4:Ct=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(Ct===null)throw Error(n(160));Hd(p,v,h),Ct=null,kn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Je(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wd(r,t),r=r.sibling}function Wd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),bn(t),u&4){try{Bo(3,t,t.return),ml(3,t)}catch(le){Je(t,t.return,le)}try{Bo(5,t,t.return)}catch(le){Je(t,t.return,le)}}break;case 1:xn(r,t),bn(t),u&512&&o!==null&&Rs(o,o.return);break;case 5:if(xn(r,t),bn(t),u&512&&o!==null&&Rs(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(le){Je(t,t.return,le)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Ys(h,p),oo(T,v);var U=oo(T,p);for(v=0;v<R.length;v+=2){var H=R[v],Q=R[v+1];H==="style"?ro(h,Q):H==="dangerouslySetInnerHTML"?to(h,Q):H==="children"?gr(h,Q):te(h,H,Q,U)}switch(T){case"input":Js(h,p);break;case"textarea":$i(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Yn(h,!!p.multiple,re,!1):q!==!!p.multiple&&(p.defaultValue!=null?Yn(h,!!p.multiple,p.defaultValue,!0):Yn(h,!!p.multiple,p.multiple?[]:"",!1))}h[xo]=p}catch(le){Je(t,t.return,le)}}break;case 6:if(xn(r,t),bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(le){Je(t,t.return,le)}}break;case 3:if(xn(r,t),bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(le){Je(t,t.return,le)}break;case 4:xn(r,t),bn(t);break;case 13:xn(r,t),bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Rc=be())),u&4&&Qd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Ot=(U=Ot)||H,xn(r,t),Ot=U):xn(r,t),bn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!H&&(t.mode&1)!==0)for(oe=t,H=t.child;H!==null;){for(Q=oe=H;oe!==null;){switch(q=oe,re=q.child,q.tag){case 0:case 11:case 14:case 15:Bo(4,q,q.return);break;case 1:Rs(q,q.return);var ae=q.stateNode;if(typeof ae.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){Je(u,o,le)}}break;case 5:Rs(q,q.return);break;case 22:if(q.memoizedState!==null){Xd(Q);continue}}re!==null?(re.return=q,oe=re):Xd(Q)}H=H.sibling}e:for(H=null,Q=t;;){if(Q.tag===5){if(H===null){H=Q;try{h=Q.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=Q.stateNode,R=Q.memoizedProps.style,v=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=no("display",v))}catch(le){Je(t,t.return,le)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(le){Je(t,t.return,le)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:xn(r,t),bn(t),u&4&&Qd(t);break;case 21:break;default:xn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if($d(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=qd(t);Ic(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,T=qd(t);Sc(t,T,v);break;default:throw Error(n(161))}}catch(R){Je(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function fv(t,r,o){oe=t,Kd(t)}function Kd(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var h=oe,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||pl;if(!v){var T=h.alternate,R=T!==null&&T.memoizedState!==null||Ot;T=pl;var U=Ot;if(pl=v,(Ot=R)&&!U)for(oe=h;oe!==null;)v=oe,R=v.child,v.tag===22&&v.memoizedState!==null?Yd(h):R!==null?(R.return=v,oe=R):Yd(h);for(;p!==null;)oe=p,Kd(p),p=p.sibling;oe=h,pl=T,Ot=U}Gd(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,oe=p):Gd(t)}}function Gd(t){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ot||ml(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Ot)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Xf(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Xf(r,v,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var H=U.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&In(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||r.flags&512&&Tc(r)}catch(q){Je(r,r.return,q)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Xd(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Yd(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ml(4,r)}catch(R){Je(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Je(r,h,R)}}var p=r.return;try{Tc(r)}catch(R){Je(r,p,R)}break;case 5:var v=r.return;try{Tc(r)}catch(R){Je(r,v,R)}}}catch(R){Je(r,r.return,R)}if(r===t){oe=null;break}var T=r.sibling;if(T!==null){T.return=r.return,oe=T;break}oe=r.return}}var dv=Math.ceil,gl=de.ReactCurrentDispatcher,Cc=de.ReactCurrentOwner,mn=de.ReactCurrentBatchConfig,Ve=0,Et=null,st=null,At=0,on=0,Ps=Pr(0),pt=0,bo=null,Ri=0,yl=0,Ac=0,$o=null,Gt=null,Rc=0,ks=1/0,fr=null,vl=!1,Pc=null,Or=null,_l=!1,Lr=null,El=0,qo=0,kc=null,wl=-1,Tl=0;function bt(){return(Ve&6)!==0?be():wl!==-1?wl:wl=be()}function Mr(t){return(t.mode&1)===0?1:(Ve&2)!==0&&At!==0?At&-At:Xy.transition!==null?(Tl===0&&(Tl=mi()),Tl):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:vo(t.type)),t)}function Nn(t,r,o,u){if(50<qo)throw qo=0,kc=null,Error(n(185));Er(t,o,u),((Ve&2)===0||t!==Et)&&(t===Et&&((Ve&2)===0&&(yl|=o),pt===4&&Fr(t,At)),Xt(t,u),o===1&&Ve===0&&(r.mode&1)===0&&(ks=be()+500,Xa&&xr()))}function Xt(t,r){var o=t.callbackNode;er(t,r);var u=pi(t,t===Et?At:0);if(u===0)o!==null&&fo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&fo(o),r===1)t.tag===0?Gy(Zd.bind(null,t)):Uf(Zd.bind(null,t)),Hy(function(){(Ve&6)===0&&xr()}),o=null;else{switch(Tr(u)){case 1:o=fi;break;case 4:o=yr;break;case 16:o=ln;break;case 536870912:o=Ta;break;default:o=ln}o=ap(o,Jd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Jd(t,r){if(wl=-1,Tl=0,(Ve&6)!==0)throw Error(n(327));var o=t.callbackNode;if(xs()&&t.callbackNode!==o)return null;var u=pi(t,t===Et?At:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Sl(t,u);else{r=u;var h=Ve;Ve|=2;var p=tp();(Et!==t||At!==r)&&(fr=null,ks=be()+500,ki(t,r));do try{gv();break}catch(T){ep(t,T)}while(!0);Wu(),gl.current=p,Ve=h,st!==null?r=0:(Et=null,At=0,r=pt)}if(r!==0){if(r===2&&(h=en(t),h!==0&&(u=h,r=xc(t,h))),r===1)throw o=bo,ki(t,0),Fr(t,u),Xt(t,be()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!pv(h)&&(r=Sl(t,u),r===2&&(p=en(t),p!==0&&(u=p,r=xc(t,p))),r===1))throw o=bo,ki(t,0),Fr(t,u),Xt(t,be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:xi(t,Gt,fr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=Rc+500-be(),10<r)){if(pi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Mu(xi.bind(null,t,Gt,fr),r);break}xi(t,Gt,fr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-jt(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*dv(u/1960))-u,10<u){t.timeoutHandle=Mu(xi.bind(null,t,Gt,fr),u);break}xi(t,Gt,fr);break;case 5:xi(t,Gt,fr);break;default:throw Error(n(329))}}}return Xt(t,be()),t.callbackNode===o?Jd.bind(null,t):null}function xc(t,r){var o=$o;return t.current.memoizedState.isDehydrated&&(ki(t,r).flags|=256),t=Sl(t,r),t!==2&&(r=Gt,Gt=o,r!==null&&Nc(r)),t}function Nc(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function pv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~Ac,r&=~yl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-jt(r),u=1<<o;t[o]=-1,r&=~u}}function Zd(t){if((Ve&6)!==0)throw Error(n(327));xs();var r=pi(t,0);if((r&1)===0)return Xt(t,be()),null;var o=Sl(t,r);if(t.tag!==0&&o===2){var u=en(t);u!==0&&(r=u,o=xc(t,u))}if(o===1)throw o=bo,ki(t,0),Fr(t,r),Xt(t,be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,xi(t,Gt,fr),Xt(t,be()),null}function Vc(t,r){var o=Ve;Ve|=1;try{return t(r)}finally{Ve=o,Ve===0&&(ks=be()+500,Xa&&xr())}}function Pi(t){Lr!==null&&Lr.tag===0&&(Ve&6)===0&&xs();var r=Ve;Ve|=1;var o=mn.transition,u=Ce;try{if(mn.transition=null,Ce=1,t)return t()}finally{Ce=u,mn.transition=o,Ve=r,(Ve&6)===0&&xr()}}function Dc(){on=Ps.current,He(Ps)}function ki(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,qy(o)),st!==null)for(o=st.return;o!==null;){var u=o;switch(bu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ka();break;case 3:Cs(),He(Qt),He(Nt),tc();break;case 5:Zu(u);break;case 4:Cs();break;case 13:He(Ge);break;case 19:He(Ge);break;case 10:Ku(u.type._context);break;case 22:case 23:Dc()}o=o.return}if(Et=t,st=t=Ur(t.current,null),At=on=r,pt=0,bo=null,Ac=yl=Ri=0,Gt=$o=null,Ii!==null){for(r=0;r<Ii.length;r++)if(o=Ii[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}Ii=null}return t}function ep(t,r){do{var o=st;try{if(Wu(),ol.current=cl,al){for(var u=Xe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}al=!1}if(Ai=0,_t=dt=Xe=null,Mo=!1,Fo=0,Cc.current=null,o===null||o.return===null){pt=1,bo=r,st=null;break}e:{var p=t,v=o.return,T=o,R=r;if(r=At,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,H=T,Q=H.tag;if((H.mode&1)===0&&(Q===0||Q===11||Q===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var re=Cd(v);if(re!==null){re.flags&=-257,Ad(re,v,T,p,r),re.mode&1&&Id(p,U,r),r=re,R=U;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(R),r.updateQueue=le}else ae.add(R);break e}else{if((r&1)===0){Id(p,U,r),Oc();break e}R=Error(n(426))}}else if(Ke&&T.mode&1){var tt=Cd(v);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),Ad(tt,v,T,p,r),Hu(As(R,T));break e}}p=R=As(R,T),pt!==4&&(pt=2),$o===null?$o=[p]:$o.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Td(p,R,r);Gf(p,M);break e;case 1:T=R;var k=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Or===null||!Or.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var G=Sd(p,T,r);Gf(p,G);break e}}p=p.return}while(p!==null)}rp(o)}catch(ue){r=ue,st===o&&o!==null&&(st=o=o.return);continue}break}while(!0)}function tp(){var t=gl.current;return gl.current=cl,t===null?cl:t}function Oc(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||(Ri&268435455)===0&&(yl&268435455)===0||Fr(Et,At)}function Sl(t,r){var o=Ve;Ve|=2;var u=tp();(Et!==t||At!==r)&&(fr=null,ki(t,r));do try{mv();break}catch(h){ep(t,h)}while(!0);if(Wu(),Ve=o,gl.current=u,st!==null)throw Error(n(261));return Et=null,At=0,pt}function mv(){for(;st!==null;)np(st)}function gv(){for(;st!==null&&!Ea();)np(st)}function np(t){var r=op(t.alternate,t,on);t.memoizedProps=t.pendingProps,r===null?rp(t):st=r,Cc.current=null}function rp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=lv(o,r,on),o!==null){st=o;return}}else{if(o=uv(o,r),o!==null){o.flags&=32767,st=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,st=null;return}}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);pt===0&&(pt=5)}function xi(t,r,o){var u=Ce,h=mn.transition;try{mn.transition=null,Ce=1,yv(t,r,o,u)}finally{mn.transition=h,Ce=u}return null}function yv(t,r,o,u){do xs();while(Lr!==null);if((Ve&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===Et&&(st=Et=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||_l||(_l=!0,ap(ln,function(){return xs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=mn.transition,mn.transition=null;var v=Ce;Ce=1;var T=Ve;Ve|=4,Cc.current=null,hv(t,o),Wd(o,t),Fy(Ou),Ir=!!Du,Ou=Du=null,t.current=o,fv(o),yu(),Ve=T,Ce=v,mn.transition=p}else t.current=o;if(_l&&(_l=!1,Lr=t,El=h),p=t.pendingLanes,p===0&&(Or=null),Sa(o.stateNode),Xt(t,be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(vl)throw vl=!1,t=Pc,Pc=null,t;return(El&1)!==0&&t.tag!==0&&xs(),p=t.pendingLanes,(p&1)!==0?t===kc?qo++:(qo=0,kc=t):qo=0,xr(),null}function xs(){if(Lr!==null){var t=Tr(El),r=mn.transition,o=Ce;try{if(mn.transition=null,Ce=16>t?16:t,Lr===null)var u=!1;else{if(t=Lr,Lr=null,El=0,(Ve&6)!==0)throw Error(n(331));var h=Ve;for(Ve|=4,oe=t.current;oe!==null;){var p=oe,v=p.child;if((oe.flags&16)!==0){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var U=T[R];for(oe=U;oe!==null;){var H=oe;switch(H.tag){case 0:case 11:case 15:Bo(8,H,p)}var Q=H.child;if(Q!==null)Q.return=H,oe=Q;else for(;oe!==null;){H=oe;var q=H.sibling,re=H.return;if(bd(H),H===U){oe=null;break}if(q!==null){q.return=re,oe=q;break}oe=re}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var tt=le.sibling;le.sibling=null,le=tt}while(le!==null)}}oe=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,oe=v;else e:for(;oe!==null;){if(p=oe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,oe=M;break e}oe=p.return}}var k=t.current;for(oe=k;oe!==null;){v=oe;var F=v.child;if((v.subtreeFlags&2064)!==0&&F!==null)F.return=v,oe=F;else e:for(v=k;oe!==null;){if(T=oe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:ml(9,T)}}catch(ue){Je(T,T.return,ue)}if(T===v){oe=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,oe=G;break e}oe=T.return}}if(Ve=h,xr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(di,t)}catch{}u=!0}return u}finally{Ce=o,mn.transition=r}}return!1}function ip(t,r,o){r=As(o,r),r=Td(t,r,1),t=Vr(t,r,1),r=bt(),t!==null&&(Er(t,1,r),Xt(t,r))}function Je(t,r,o){if(t.tag===3)ip(t,t,o);else for(;r!==null;){if(r.tag===3){ip(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){t=As(o,t),t=Sd(r,t,1),r=Vr(r,t,1),t=bt(),r!==null&&(Er(r,1,t),Xt(r,t));break}}r=r.return}}function vv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&o,Et===t&&(At&o)===o&&(pt===4||pt===3&&(At&130023424)===At&&500>be()-Rc?ki(t,0):Ac|=o),Xt(t,r)}function sp(t,r){r===0&&((t.mode&1)===0?r=1:(r=Zi,Zi<<=1,(Zi&130023424)===0&&(Zi=4194304)));var o=bt();t=ur(t,r),t!==null&&(Er(t,r,o),Xt(t,o))}function _v(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),sp(t,o)}function Ev(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),sp(t,o)}var op;op=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Qt.current)Kt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Kt=!1,av(t,r,o);Kt=(t.flags&131072)!==0}else Kt=!1,Ke&&(r.flags&1048576)!==0&&jf(r,Ja,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;dl(t,r),t=r.pendingProps;var h=vs(r,Nt.current);Is(r,o),h=ic(null,r,u,t,h,o);var p=sc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(u)?(p=!0,Ga(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Yu(r),h.updater=hl,r.stateNode=h,h._reactInternals=r,hc(r,u,t,o),r=mc(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&Bu(r),Bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(dl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Tv(u),t=Pn(u,t),h){case 0:r=pc(null,r,u,t,o);break e;case 1:r=Vd(null,r,u,t,o);break e;case 11:r=Rd(null,r,u,t,o);break e;case 14:r=Pd(null,r,u,Pn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),pc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Vd(t,r,u,h,o);case 3:e:{if(Dd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Kf(t,r),il(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=As(Error(n(423)),r),r=Od(t,r,u,o,h);break e}else if(u!==h){h=As(Error(n(424)),r),r=Od(t,r,u,o,h);break e}else for(sn=Rr(r.stateNode.containerInfo.firstChild),rn=r,Ke=!0,Rn=null,o=Qf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ws(),u===h){r=hr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return Yf(r),t===null&&qu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,Lu(u,h)?v=null:p!==null&&Lu(u,p)&&(r.flags|=32),Nd(t,r),Bt(t,r,v,o),r.child;case 6:return t===null&&qu(r),null;case 13:return Ld(t,r,o);case 4:return Ju(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ts(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Rd(t,r,u,h,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,$e(tl,u._currentValue),u._currentValue=v,p!==null)if(An(p.value,v)){if(p.children===h.children&&!Qt.current){r=hr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){v=p.child;for(var R=T.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=cr(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var H=U.pending;H===null?R.next=R:(R.next=H.next,H.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Gu(p.return,o,r),T.lanes|=o;break}R=R.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),Gu(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Is(r,o),h=dn(h),u=u(h),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,h=Pn(u,r.pendingProps),h=Pn(u.type,h),Pd(t,r,u,h,o);case 15:return kd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),dl(t,r),r.tag=1,Wt(u)?(t=!0,Ga(r)):t=!1,Is(r,o),Ed(r,u,h),hc(r,u,h,o),mc(null,r,u,!0,t,o);case 19:return Fd(t,r,o);case 22:return xd(t,r,o)}throw Error(n(156,r.tag))};function ap(t,r){return Yi(t,r)}function wv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,o,u){return new wv(t,r,o,u)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tv(t){if(typeof t=="function")return Lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=gn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Il(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")Lc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case N:return Ni(o.children,h,p,r);case S:v=8,h|=8;break;case A:return t=gn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case I:return t=gn(13,o,r,h),t.elementType=I,t.lanes=p,t;case Ze:return t=gn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case je:return Cl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:v=10;break e;case V:v=9;break e;case O:v=11;break e;case kt:v=14;break e;case xt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=gn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ni(t,r,o,u){return t=gn(7,t,u,r),t.lanes=o,t}function Cl(t,r,o,u){return t=gn(22,t,u,r),t.elementType=je,t.lanes=o,t.stateNode={isHidden:!1},t}function Mc(t,r,o){return t=gn(6,t,null,r),t.lanes=o,t}function Fc(t,r,o){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Sv(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Uc(t,r,o,u,h,p,v,T,R){return t=new Sv(t,r,o,T,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=gn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(p),t}function Iv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function lp(t){if(!t)return kr;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Wt(o))return Mf(t,o,r)}return r}function up(t,r,o,u,h,p,v,T,R){return t=Uc(o,u,!0,t,h,p,v,T,R),t.context=lp(null),o=t.current,u=bt(),h=Mr(o),p=cr(u,h),p.callback=r??null,Vr(o,p,h),t.current.lanes=h,Er(t,h,u),Xt(t,u),t}function Al(t,r,o,u){var h=r.current,p=bt(),v=Mr(h);return o=lp(o),r.context===null?r.context=o:r.pendingContext=o,r=cr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Vr(h,r,v),t!==null&&(Nn(t,h,v,p),rl(t,h,v)),v}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function jc(t,r){cp(t,r),(t=t.alternate)&&cp(t,r)}function Cv(){return null}var hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function zc(t){this._internalRoot=t}Pl.prototype.render=zc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Al(t,r,null,null)},Pl.prototype.unmount=zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Pi(function(){Al(null,t,null,null)}),r[sr]=null}};function Pl(t){this._internalRoot=t}Pl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Ln.length&&r!==0&&r<Ln[o].priority;o++);Ln.splice(o,0,t),o===0&&Na(t)}};function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fp(){}function Av(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=Rl(v);p.call(U)}}var v=up(r,u,t,0,null,!1,!1,"",fp);return t._reactRootContainer=v,t[sr]=v.current,Po(t.nodeType===8?t.parentNode:t),Pi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=Rl(R);T.call(U)}}var R=Uc(t,0,!1,null,null,!1,!1,"",fp);return t._reactRootContainer=R,t[sr]=R.current,Po(t.nodeType===8?t.parentNode:t),Pi(function(){Al(r,R,o,u)}),R}function xl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var T=h;h=function(){var R=Rl(v);T.call(R)}}Al(r,v,t,h)}else v=Av(o,r,t,h,u);return Rl(v)}Aa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=vr(r.pendingLanes);o!==0&&(wr(r,o|1),Xt(r,be()),(Ve&6)===0&&(ks=be()+500,xr()))}break;case 13:Pi(function(){var u=ur(t,1);if(u!==null){var h=bt();Nn(u,t,1,h)}}),jc(t,1)}},es=function(t){if(t.tag===13){var r=ur(t,134217728);if(r!==null){var o=bt();Nn(r,t,134217728,o)}jc(t,134217728)}},Ra=function(t){if(t.tag===13){var r=Mr(t),o=ur(t,r);if(o!==null){var u=bt();Nn(o,t,r,u)}jc(t,r)}},Pa=function(){return Ce},ka=function(t,r){var o=Ce;try{return Ce=t,r()}finally{Ce=o}},Hi=function(t,r,o){switch(r){case"input":if(Js(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Wa(u);if(!h)throw Error(n(90));ji(u),Js(u,h)}}}break;case"textarea":$i(t,o);break;case"select":r=o.value,r!=null&&Yn(t,!!o.multiple,r,!1)}},li=Vc,lo=Pi;var Rv={usingClientEntryPoint:!1,Events:[No,gs,Wa,Dn,ao,Vc]},Ho={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pv={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ho(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||Cv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{di=Nl.inject(Pv),Zt=Nl}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rv,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(r))throw Error(n(200));return Iv(t,r,null,o)},Yt.createRoot=function(t,r){if(!Bc(t))throw Error(n(299));var o=!1,u="",h=hp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Uc(t,1,!1,null,null,o,!1,u,h),t[sr]=r.current,Po(t.nodeType===8?t.parentNode:t),new zc(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ho(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return Pi(t)},Yt.hydrate=function(t,r,o){if(!kl(r))throw Error(n(200));return xl(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!Bc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=hp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=up(r,null,t,1,o??null,h,!1,p,v),t[sr]=r.current,Po(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Pl(r)},Yt.render=function(t,r,o){if(!kl(r))throw Error(n(200));return xl(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!kl(t))throw Error(n(40));return t._reactRootContainer?(Pi(function(){xl(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1},Yt.unstable_batchedUpdates=Vc,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!kl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return xl(t,r,o,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Ep;function Bm(){if(Ep)return qc.exports;Ep=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qc.exports=Fv(),qc.exports}var wp;function Uv(){if(wp)return Vl;wp=1;var i=Bm();return Vl.createRoot=i.createRoot,Vl.hydrateRoot=i.hydrateRoot,Vl}var jv=Uv();const zv=jm(jv);Bm();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},na.apply(this,arguments)}var zr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(zr||(zr={}));const Tp="popstate";function Bv(i){i===void 0&&(i={});function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return ih("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:$l(a)}return $v(e,n,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bm(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bv(){return Math.random().toString(36).substr(2,8)}function Sp(i,e){return{usr:i.state,key:i.key,idx:e}}function ih(i,e,n,s){return n===void 0&&(n=null),na({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Qs(e):e,{state:n,key:e&&e.key||s||bv()})}function $l(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Qs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function $v(i,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m=zr.Pop,y=null,_=w();_==null&&(_=0,f.replaceState(na({},f.state,{idx:_}),""));function w(){return(f.state||{idx:null}).idx}function C(){m=zr.Pop;let z=w(),ee=z==null?null:z-_;_=z,y&&y({action:m,location:W.location,delta:ee})}function P(z,ee){m=zr.Push;let Y=ih(W.location,z,ee);_=w()+1;let te=Sp(Y,_),de=W.createHref(Y);try{f.pushState(te,"",de)}catch(Le){if(Le instanceof DOMException&&Le.name==="DataCloneError")throw Le;a.location.assign(de)}c&&y&&y({action:m,location:W.location,delta:1})}function B(z,ee){m=zr.Replace;let Y=ih(W.location,z,ee);_=w();let te=Sp(Y,_),de=W.createHref(Y);f.replaceState(te,"",de),c&&y&&y({action:m,location:W.location,delta:0})}function K(z){let ee=a.location.origin!=="null"?a.location.origin:a.location.href,Y=typeof z=="string"?z:$l(z);return Y=Y.replace(/ $/,"%20"),ut(ee,"No window.location.(origin|href) available to create URL for href: "+Y),new URL(Y,ee)}let W={get action(){return m},get location(){return i(a,f)},listen(z){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(Tp,C),y=z,()=>{a.removeEventListener(Tp,C),y=null}},createHref(z){return e(a,z)},createURL:K,encodeLocation(z){let ee=K(z);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:P,replace:B,go(z){return f.go(z)}};return W}var Ip;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Ip||(Ip={}));function qv(i,e,n){return n===void 0&&(n="/"),Hv(i,e,n)}function Hv(i,e,n,s){let a=typeof e=="string"?Qs(e):e,c=Vh(a.pathname||"/",n);if(c==null)return null;let f=$m(i);Qv(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=i_(c);m=t_(f[y],_)}return m}function $m(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(c,f,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};y.relativePath.startsWith("/")&&(ut(y.relativePath.startsWith(s),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(s.length));let _=$r([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(ut(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),$m(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:Zv(_,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let y of qm(c.path))a(c,f,y)}),e}function qm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=qm(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),a&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function Qv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:e_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Wv=/^:[\w-]+$/,Kv=3,Gv=2,Xv=1,Yv=10,Jv=-2,Cp=i=>i==="*";function Zv(i,e){let n=i.split("/"),s=n.length;return n.some(Cp)&&(s+=Jv),e&&(s+=Gv),n.filter(a=>!Cp(a)).reduce((a,c)=>a+(Wv.test(c)?Kv:c===""?Xv:Yv),s)}function e_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function t_(i,e,n){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",C=n_({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},w),P=y.route;if(!C)return null;Object.assign(a,C.params),f.push({params:a,pathname:$r([c,C.pathname]),pathnameBase:l_($r([c,C.pathnameBase])),route:P}),C.pathnameBase!=="/"&&(c=$r([c,C.pathnameBase]))}return f}function n_(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=r_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,w,C)=>{let{paramName:P,isOptional:B}=w;if(P==="*"){let W=m[C]||"";f=c.slice(0,c.length-W.length).replace(/(.)\/+$/,"$1")}const K=m[C];return B&&!K?_[P]=void 0:_[P]=(K||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function r_(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bm(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function i_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bm(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Vh(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function s_(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Qs(i):i;return{pathname:n?n.startsWith("/")?n:o_(n,e):e,search:u_(s),hash:c_(a)}}function o_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Wc(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hm(i,e){let n=a_(i);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Qm(i,e,n,s){s===void 0&&(s=!1);let a;typeof i=="string"?a=Qs(i):(a=na({},i),ut(!a.pathname||!a.pathname.includes("?"),Wc("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Wc("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Wc("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let C=e.length-1;if(!s&&f.startsWith("..")){let P=f.split("/");for(;P[0]==="..";)P.shift(),C-=1;a.pathname=P.join("/")}m=C>=0?e[C]:"/"}let y=s_(a,m),_=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||w)&&(y.pathname+="/"),y}const $r=i=>i.join("/").replace(/\/\/+/g,"/"),l_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),u_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,c_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function h_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Wm=["post","put","patch","delete"];new Set(Wm);const f_=["get",...Wm];new Set(f_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},ra.apply(this,arguments)}const Dh=ne.createContext(null),d_=ne.createContext(null),Fi=ne.createContext(null),tu=ne.createContext(null),ri=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),Km=ne.createContext(null);function p_(i,e){let{relative:n}=e===void 0?{}:e;ha()||ut(!1);let{basename:s,navigator:a}=ne.useContext(Fi),{hash:c,pathname:f,search:m}=Xm(i,{relative:n}),y=f;return s!=="/"&&(y=f==="/"?s:$r([s,f])),a.createHref({pathname:y,search:m,hash:c})}function ha(){return ne.useContext(tu)!=null}function nu(){return ha()||ut(!1),ne.useContext(tu).location}function Gm(i){ne.useContext(Fi).static||ne.useLayoutEffect(i)}function m_(){let{isDataRoute:i}=ne.useContext(ri);return i?k_():g_()}function g_(){ha()||ut(!1);let i=ne.useContext(Dh),{basename:e,future:n,navigator:s}=ne.useContext(Fi),{matches:a}=ne.useContext(ri),{pathname:c}=nu(),f=JSON.stringify(Hm(a,n.v7_relativeSplatPath)),m=ne.useRef(!1);return Gm(()=>{m.current=!0}),ne.useCallback(function(_,w){if(w===void 0&&(w={}),!m.current)return;if(typeof _=="number"){s.go(_);return}let C=Qm(_,JSON.parse(f),c,w.relative==="path");i==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:$r([e,C.pathname])),(w.replace?s.replace:s.push)(C,w.state,w)},[e,s,f,c,i])}function y_(){let{matches:i}=ne.useContext(ri),e=i[i.length-1];return e?e.params:{}}function Xm(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=ne.useContext(Fi),{matches:a}=ne.useContext(ri),{pathname:c}=nu(),f=JSON.stringify(Hm(a,s.v7_relativeSplatPath));return ne.useMemo(()=>Qm(i,JSON.parse(f),c,n==="path"),[i,f,c,n])}function v_(i,e){return __(i,e)}function __(i,e,n,s){ha()||ut(!1);let{navigator:a}=ne.useContext(Fi),{matches:c}=ne.useContext(ri),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let y=f?f.pathnameBase:"/";f&&f.route;let _=nu(),w;if(e){var C;let z=typeof e=="string"?Qs(e):e;y==="/"||(C=z.pathname)!=null&&C.startsWith(y)||ut(!1),w=z}else w=_;let P=w.pathname||"/",B=P;if(y!=="/"){let z=y.replace(/^\//,"").split("/");B="/"+P.replace(/^\//,"").split("/").slice(z.length).join("/")}let K=qv(i,{pathname:B}),W=I_(K&&K.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:$r([y,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:$r([y,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,n,s);return e&&W?ne.createElement(tu.Provider,{value:{location:ra({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:zr.Pop}},W):W}function E_(){let i=P_(),e=h_(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:a},n):null,null)}const w_=ne.createElement(E_,null);class T_ extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ne.createElement(ri.Provider,{value:this.props.routeContext},ne.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S_(i){let{routeContext:e,match:n,children:s}=i,a=ne.useContext(Dh);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(ri.Provider,{value:e},s)}function I_(i,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var c;if(!n)return null;if(n.errors)i=n.matches;else if((c=s)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let f=i,m=(a=n)==null?void 0:a.errors;if(m!=null){let w=f.findIndex(C=>C.route.id&&m?.[C.route.id]!==void 0);w>=0||ut(!1),f=f.slice(0,Math.min(f.length,w+1))}let y=!1,_=-1;if(n&&s&&s.v7_partialHydration)for(let w=0;w<f.length;w++){let C=f[w];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(_=w),C.route.id){let{loaderData:P,errors:B}=n,K=C.route.loader&&P[C.route.id]===void 0&&(!B||B[C.route.id]===void 0);if(C.route.lazy||K){y=!0,_>=0?f=f.slice(0,_+1):f=[f[0]];break}}}return f.reduceRight((w,C,P)=>{let B,K=!1,W=null,z=null;n&&(B=m&&C.route.id?m[C.route.id]:void 0,W=C.route.errorElement||w_,y&&(_<0&&P===0?(x_("route-fallback"),K=!0,z=null):_===P&&(K=!0,z=C.route.hydrateFallbackElement||null)));let ee=e.concat(f.slice(0,P+1)),Y=()=>{let te;return B?te=W:K?te=z:C.route.Component?te=ne.createElement(C.route.Component,null):C.route.element?te=C.route.element:te=w,ne.createElement(S_,{match:C,routeContext:{outlet:w,matches:ee,isDataRoute:n!=null},children:te})};return n&&(C.route.ErrorBoundary||C.route.errorElement||P===0)?ne.createElement(T_,{location:n.location,revalidation:n.revalidation,component:W,error:B,children:Y(),routeContext:{outlet:null,matches:ee,isDataRoute:!0}}):Y()},null)}var Ym=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Ym||{}),Jm=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Jm||{});function C_(i){let e=ne.useContext(Dh);return e||ut(!1),e}function A_(i){let e=ne.useContext(d_);return e||ut(!1),e}function R_(i){let e=ne.useContext(ri);return e||ut(!1),e}function Zm(i){let e=R_(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function P_(){var i;let e=ne.useContext(Km),n=A_(),s=Zm();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function k_(){let{router:i}=C_(Ym.UseNavigateStable),e=Zm(Jm.UseNavigateStable),n=ne.useRef(!1);return Gm(()=>{n.current=!0}),ne.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,ra({fromRouteId:e},c)))},[i,e])}const Ap={};function x_(i,e,n){Ap[i]||(Ap[i]=!0)}function N_(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function sh(i){ut(!1)}function V_(i){let{basename:e="/",children:n=null,location:s,navigationType:a=zr.Pop,navigator:c,static:f=!1,future:m}=i;ha()&&ut(!1);let y=e.replace(/^\/*/,"/"),_=ne.useMemo(()=>({basename:y,navigator:c,static:f,future:ra({v7_relativeSplatPath:!1},m)}),[y,m,c,f]);typeof s=="string"&&(s=Qs(s));let{pathname:w="/",search:C="",hash:P="",state:B=null,key:K="default"}=s,W=ne.useMemo(()=>{let z=Vh(w,y);return z==null?null:{location:{pathname:z,search:C,hash:P,state:B,key:K},navigationType:a}},[y,w,C,P,B,K,a]);return W==null?null:ne.createElement(Fi.Provider,{value:_},ne.createElement(tu.Provider,{children:n,value:W}))}function D_(i){let{children:e,location:n}=i;return v_(oh(e),n)}new Promise(()=>{});function oh(i,e){e===void 0&&(e=[]);let n=[];return ne.Children.forEach(i,(s,a)=>{if(!ne.isValidElement(s))return;let c=[...e,a];if(s.type===ne.Fragment){n.push.apply(n,oh(s.props.children,c));return}s.type!==sh&&ut(!1),!s.props.index||!s.props.children||ut(!1);let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=oh(s.props.children,c)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},ah.apply(this,arguments)}function O_(i,e){if(i==null)return{};var n={},s=Object.keys(i),a,c;for(c=0;c<s.length;c++)a=s[c],!(e.indexOf(a)>=0)&&(n[a]=i[a]);return n}function L_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function M_(i,e){return i.button===0&&(!e||e==="_self")&&!L_(i)}const F_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U_="6";try{window.__reactRouterVersion=U_}catch{}const j_="startTransition",Rp=Ov[j_];function z_(i){let{basename:e,children:n,future:s,window:a}=i,c=ne.useRef();c.current==null&&(c.current=Bv({window:a,v5Compat:!0}));let f=c.current,[m,y]=ne.useState({action:f.action,location:f.location}),{v7_startTransition:_}=s||{},w=ne.useCallback(C=>{_&&Rp?Rp(()=>y(C)):y(C)},[y,_]);return ne.useLayoutEffect(()=>f.listen(w),[f,w]),ne.useEffect(()=>N_(s),[s]),ne.createElement(V_,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eg=ne.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:c,replace:f,state:m,target:y,to:_,preventScrollReset:w,viewTransition:C}=e,P=O_(e,F_),{basename:B}=ne.useContext(Fi),K,W=!1;if(typeof _=="string"&&b_.test(_)&&(K=_,B_))try{let te=new URL(window.location.href),de=_.startsWith("//")?new URL(te.protocol+_):new URL(_),Le=Vh(de.pathname,B);de.origin===te.origin&&Le!=null?_=Le+de.search+de.hash:W=!0}catch{}let z=p_(_,{relative:a}),ee=$_(_,{replace:f,state:m,target:y,preventScrollReset:w,relative:a,viewTransition:C});function Y(te){s&&s(te),te.defaultPrevented||ee(te)}return ne.createElement("a",ah({},P,{href:K||z,onClick:W||c?s:Y,ref:n,target:y}))});var Pp;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Pp||(Pp={}));var kp;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(kp||(kp={}));function $_(i,e){let{target:n,replace:s,state:a,preventScrollReset:c,relative:f,viewTransition:m}=e===void 0?{}:e,y=m_(),_=nu(),w=Xm(i,{relative:f});return ne.useCallback(C=>{if(M_(C,n)){C.preventDefault();let P=s!==void 0?s:$l(_)===$l(w);y(i,{replace:P,state:a,preventScrollReset:c,relative:f,viewTransition:m})}},[_,y,w,s,a,n,i,c,f,m])}const q_=()=>{};var xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},H_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,w=c>>2,C=(c&3)<<4|m>>4;let P=(m&15)<<2|_>>6,B=_&63;y||(B=64,f||(P=64)),s.push(n[w],n[C],n[P],n[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):H_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||C==null)throw new Q_;const P=c<<2|m>>4;if(s.push(P),_!==64){const B=m<<4&240|_>>2;if(s.push(B),C!==64){const K=_<<6&192|C;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Q_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W_=function(i){const e=tg(i);return ng.encodeByteArray(e,!0)},ql=function(i){return W_(i).replace(/\./g,"")},K_=function(i){try{return ng.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=()=>G_().__FIREBASE_DEFAULTS__,Y_=()=>{if(typeof process>"u"||typeof xp>"u")return;const i=xp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},J_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&K_(i[1]);return e&&JSON.parse(e)},Oh=()=>{try{return q_()||X_()||Y_()||J_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z_=i=>Oh()?.emulatorHosts?.[i],e0=i=>{const e=Z_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},rg=()=>Oh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ql(JSON.stringify(n)),ql(JSON.stringify(f)),""].join(".")}const Yo={};function i0(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yo))Yo[e]?i.emulator.push(e):i.prod.push(e);return i}function s0(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Np=!1;function o0(i,e){if(typeof window>"u"||typeof document>"u"||!Lh(window.location.host)||Yo[i]===e||Yo[i]||Np)return;Yo[i]=e;function n(P){return`__firebase__banner__${P}`}const s="__firebase__banner",c=i0().prod.length>0;function f(){const P=document.getElementById(s);P&&P.remove()}function m(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function y(P,B){P.setAttribute("width","24"),P.setAttribute("id",B),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function _(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{Np=!0,f()},P}function w(P,B){P.setAttribute("id",B),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function C(){const P=s0(s),B=n("text"),K=document.getElementById(B)||document.createElement("span"),W=n("learnmore"),z=document.getElementById(W)||document.createElement("a"),ee=n("preprendIcon"),Y=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const te=P.element;m(te),w(z,W);const de=_();y(Y,ee),te.append(Y,K,z,de),document.body.appendChild(te)}c?(K.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l0(){const i=Oh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u0(){return!l0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c0(){try{return typeof indexedDB=="object"}catch{return!1}}function h0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=f0,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ig.prototype.create)}}class ig{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?d0(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Ws(a,m,s)}}function d0(i,e){return i.replace(p0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const p0=/\{\$([^}]+)}/g;function Hl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Vp(c)&&Vp(f)){if(!Hl(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Vp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new t0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y0(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:g0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g0(i){return i===Vi?void 0:i}function y0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const _0={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},E0=xe.INFO,w0={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},T0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=w0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class og{constructor(e){this.name=e,this._logLevel=E0,this._logHandler=T0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const S0=(i,e)=>e.some(n=>i instanceof n);let Dp,Op;function I0(){return Dp||(Dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C0(){return Op||(Op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ag=new WeakMap,lh=new WeakMap,lg=new WeakMap,Kc=new WeakMap,Mh=new WeakMap;function A0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(qr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ag.set(n,i)}).catch(()=>{}),Mh.set(e,i),e}function R0(i){if(lh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});lh.set(i,e)}let uh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||lg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function P0(i){uh=i(uh)}function k0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Gc(this),e,...n);return lg.set(s,e.sort?e.sort():[e]),qr(s)}:C0().includes(i)?function(...e){return i.apply(Gc(this),e),qr(ag.get(this))}:function(...e){return qr(i.apply(Gc(this),e))}}function x0(i){return typeof i=="function"?k0(i):(i instanceof IDBTransaction&&R0(i),S0(i,I0())?new Proxy(i,uh):i)}function qr(i){if(i instanceof IDBRequest)return A0(i);if(Kc.has(i))return Kc.get(i);const e=x0(i);return e!==i&&(Kc.set(i,e),Mh.set(e,i)),e}const Gc=i=>Mh.get(i);function N0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=qr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(qr(f.result),y.oldVersion,y.newVersion,qr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const V0=["get","getKey","getAll","getAllKeys","count"],D0=["put","add","delete","clear"],Xc=new Map;function Lp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Xc.get(e))return Xc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=D0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||V0.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&y.done]))[0]};return Xc.set(e,c),c}P0(i=>({...i,get:(e,n,s)=>Lp(e,n)||i.get(e,n,s),has:(e,n)=>!!Lp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function L0(i){return i.getComponent()?.type==="VERSION"}const ch="@firebase/app",Mp="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new og("@firebase/app"),M0="@firebase/app-compat",F0="@firebase/analytics-compat",U0="@firebase/analytics",j0="@firebase/app-check-compat",z0="@firebase/app-check",B0="@firebase/auth",b0="@firebase/auth-compat",$0="@firebase/database",q0="@firebase/data-connect",H0="@firebase/database-compat",Q0="@firebase/functions",W0="@firebase/functions-compat",K0="@firebase/installations",G0="@firebase/installations-compat",X0="@firebase/messaging",Y0="@firebase/messaging-compat",J0="@firebase/performance",Z0="@firebase/performance-compat",eE="@firebase/remote-config",tE="@firebase/remote-config-compat",nE="@firebase/storage",rE="@firebase/storage-compat",iE="@firebase/firestore",sE="@firebase/ai",oE="@firebase/firestore-compat",aE="firebase",lE="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]",uE={[ch]:"fire-core",[M0]:"fire-core-compat",[U0]:"fire-analytics",[F0]:"fire-analytics-compat",[z0]:"fire-app-check",[j0]:"fire-app-check-compat",[B0]:"fire-auth",[b0]:"fire-auth-compat",[$0]:"fire-rtdb",[q0]:"fire-data-connect",[H0]:"fire-rtdb-compat",[Q0]:"fire-fn",[W0]:"fire-fn-compat",[K0]:"fire-iid",[G0]:"fire-iid-compat",[X0]:"fire-fcm",[Y0]:"fire-fcm-compat",[J0]:"fire-perf",[Z0]:"fire-perf-compat",[eE]:"fire-rc",[tE]:"fire-rc-compat",[nE]:"fire-gcs",[rE]:"fire-gcs-compat",[iE]:"fire-fst",[oE]:"fire-fst-compat",[sE]:"fire-vertex","fire-js":"fire-js",[aE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,cE=new Map,fh=new Map;function Fp(i,e){try{i.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Wl(i){const e=i.name;if(fh.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;fh.set(e,i);for(const n of Ql.values())Fp(n,i);for(const n of cE.values())Fp(n,i);return!0}function hE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function fE(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new ig("app","Firebase",dE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=lE;function ug(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:hh,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=rg()),!n)throw Hr.create("no-options");const c=Ql.get(a);if(c){if(Hl(n,c.options)&&Hl(s,c.config))return c;throw Hr.create("duplicate-app",{appName:a})}const f=new v0(a);for(const y of fh.values())f.addComponent(y);const m=new pE(n,s,f);return Ql.set(a,m),m}function gE(i=hh){const e=Ql.get(i);if(!e&&i===hh&&rg())return ug();if(!e)throw Hr.create("no-app",{appName:i});return e}function Ls(i,e,n){let s=uE[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}Wl(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="firebase-heartbeat-database",vE=1,sa="firebase-heartbeat-store";let Yc=null;function cg(){return Yc||(Yc=N0(yE,vE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Yc}async function _E(i){try{const n=(await cg()).transaction(sa),s=await n.objectStore(sa).get(hg(i));return await n.done,s}catch(e){if(e instanceof Ws)dr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function Up(i,e){try{const s=(await cg()).transaction(sa,"readwrite");await s.objectStore(sa).put(e,hg(i)),await s.done}catch(n){if(n instanceof Ws)dr.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function hg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=1024,wE=30;class TE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>wE){const a=CE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jp(),{heartbeatsToSend:n,unsentEntries:s}=SE(this._heartbeatsCache.heartbeats),a=ql(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return dr.warn(e),""}}}function jp(){return new Date().toISOString().substring(0,10)}function SE(i,e=EE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),zp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),zp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class IE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c0()?h0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _E(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Up(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Up(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zp(i){return ql(JSON.stringify({version:2,heartbeats:i})).length}function CE(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(i){Wl(new ia("platform-logger",e=>new O0(e),"PRIVATE")),Wl(new ia("heartbeat",e=>new TE(e),"PRIVATE")),Ls(ch,Mp,i),Ls(ch,Mp,"esm2020"),Ls("fire-js","")}AE("");var RE="firebase",PE="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(RE,PE,"app");var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,fg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function A(){}A.prototype=S.prototype,N.D=S.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(x,V,O){for(var I=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)I[Ze-2]=arguments[Ze];return S.prototype[V].apply(x,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,A){A||(A=0);var x=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)x[V]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(V=0;16>V;++V)x[V]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=N.g[0],A=N.g[1],V=N.g[2];var O=N.g[3],I=S+(O^A&(V^O))+x[0]+3614090360&4294967295;S=A+(I<<7&4294967295|I>>>25),I=O+(V^S&(A^V))+x[1]+3905402710&4294967295,O=S+(I<<12&4294967295|I>>>20),I=V+(A^O&(S^A))+x[2]+606105819&4294967295,V=O+(I<<17&4294967295|I>>>15),I=A+(S^V&(O^S))+x[3]+3250441966&4294967295,A=V+(I<<22&4294967295|I>>>10),I=S+(O^A&(V^O))+x[4]+4118548399&4294967295,S=A+(I<<7&4294967295|I>>>25),I=O+(V^S&(A^V))+x[5]+1200080426&4294967295,O=S+(I<<12&4294967295|I>>>20),I=V+(A^O&(S^A))+x[6]+2821735955&4294967295,V=O+(I<<17&4294967295|I>>>15),I=A+(S^V&(O^S))+x[7]+4249261313&4294967295,A=V+(I<<22&4294967295|I>>>10),I=S+(O^A&(V^O))+x[8]+1770035416&4294967295,S=A+(I<<7&4294967295|I>>>25),I=O+(V^S&(A^V))+x[9]+2336552879&4294967295,O=S+(I<<12&4294967295|I>>>20),I=V+(A^O&(S^A))+x[10]+4294925233&4294967295,V=O+(I<<17&4294967295|I>>>15),I=A+(S^V&(O^S))+x[11]+2304563134&4294967295,A=V+(I<<22&4294967295|I>>>10),I=S+(O^A&(V^O))+x[12]+1804603682&4294967295,S=A+(I<<7&4294967295|I>>>25),I=O+(V^S&(A^V))+x[13]+4254626195&4294967295,O=S+(I<<12&4294967295|I>>>20),I=V+(A^O&(S^A))+x[14]+2792965006&4294967295,V=O+(I<<17&4294967295|I>>>15),I=A+(S^V&(O^S))+x[15]+1236535329&4294967295,A=V+(I<<22&4294967295|I>>>10),I=S+(V^O&(A^V))+x[1]+4129170786&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^V&(S^A))+x[6]+3225465664&4294967295,O=S+(I<<9&4294967295|I>>>23),I=V+(S^A&(O^S))+x[11]+643717713&4294967295,V=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(V^O))+x[0]+3921069994&4294967295,A=V+(I<<20&4294967295|I>>>12),I=S+(V^O&(A^V))+x[5]+3593408605&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^V&(S^A))+x[10]+38016083&4294967295,O=S+(I<<9&4294967295|I>>>23),I=V+(S^A&(O^S))+x[15]+3634488961&4294967295,V=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(V^O))+x[4]+3889429448&4294967295,A=V+(I<<20&4294967295|I>>>12),I=S+(V^O&(A^V))+x[9]+568446438&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^V&(S^A))+x[14]+3275163606&4294967295,O=S+(I<<9&4294967295|I>>>23),I=V+(S^A&(O^S))+x[3]+4107603335&4294967295,V=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(V^O))+x[8]+1163531501&4294967295,A=V+(I<<20&4294967295|I>>>12),I=S+(V^O&(A^V))+x[13]+2850285829&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^V&(S^A))+x[2]+4243563512&4294967295,O=S+(I<<9&4294967295|I>>>23),I=V+(S^A&(O^S))+x[7]+1735328473&4294967295,V=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(V^O))+x[12]+2368359562&4294967295,A=V+(I<<20&4294967295|I>>>12),I=S+(A^V^O)+x[5]+4294588738&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^V)+x[8]+2272392833&4294967295,O=S+(I<<11&4294967295|I>>>21),I=V+(O^S^A)+x[11]+1839030562&4294967295,V=O+(I<<16&4294967295|I>>>16),I=A+(V^O^S)+x[14]+4259657740&4294967295,A=V+(I<<23&4294967295|I>>>9),I=S+(A^V^O)+x[1]+2763975236&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^V)+x[4]+1272893353&4294967295,O=S+(I<<11&4294967295|I>>>21),I=V+(O^S^A)+x[7]+4139469664&4294967295,V=O+(I<<16&4294967295|I>>>16),I=A+(V^O^S)+x[10]+3200236656&4294967295,A=V+(I<<23&4294967295|I>>>9),I=S+(A^V^O)+x[13]+681279174&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^V)+x[0]+3936430074&4294967295,O=S+(I<<11&4294967295|I>>>21),I=V+(O^S^A)+x[3]+3572445317&4294967295,V=O+(I<<16&4294967295|I>>>16),I=A+(V^O^S)+x[6]+76029189&4294967295,A=V+(I<<23&4294967295|I>>>9),I=S+(A^V^O)+x[9]+3654602809&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^V)+x[12]+3873151461&4294967295,O=S+(I<<11&4294967295|I>>>21),I=V+(O^S^A)+x[15]+530742520&4294967295,V=O+(I<<16&4294967295|I>>>16),I=A+(V^O^S)+x[2]+3299628645&4294967295,A=V+(I<<23&4294967295|I>>>9),I=S+(V^(A|~O))+x[0]+4096336452&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~V))+x[7]+1126891415&4294967295,O=S+(I<<10&4294967295|I>>>22),I=V+(S^(O|~A))+x[14]+2878612391&4294967295,V=O+(I<<15&4294967295|I>>>17),I=A+(O^(V|~S))+x[5]+4237533241&4294967295,A=V+(I<<21&4294967295|I>>>11),I=S+(V^(A|~O))+x[12]+1700485571&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~V))+x[3]+2399980690&4294967295,O=S+(I<<10&4294967295|I>>>22),I=V+(S^(O|~A))+x[10]+4293915773&4294967295,V=O+(I<<15&4294967295|I>>>17),I=A+(O^(V|~S))+x[1]+2240044497&4294967295,A=V+(I<<21&4294967295|I>>>11),I=S+(V^(A|~O))+x[8]+1873313359&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~V))+x[15]+4264355552&4294967295,O=S+(I<<10&4294967295|I>>>22),I=V+(S^(O|~A))+x[6]+2734768916&4294967295,V=O+(I<<15&4294967295|I>>>17),I=A+(O^(V|~S))+x[13]+1309151649&4294967295,A=V+(I<<21&4294967295|I>>>11),I=S+(V^(A|~O))+x[4]+4149444226&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~V))+x[11]+3174756917&4294967295,O=S+(I<<10&4294967295|I>>>22),I=V+(S^(O|~A))+x[2]+718787259&4294967295,V=O+(I<<15&4294967295|I>>>17),I=A+(O^(V|~S))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+O&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var A=S-this.blockSize,x=this.B,V=this.h,O=0;O<S;){if(V==0)for(;O<=A;)a(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<S;)if(x[V++]=N.charCodeAt(O++),V==this.blockSize){a(this,x),V=0;break}}else for(;O<S;)if(x[V++]=N[O++],V==this.blockSize){a(this,x),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var A=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=A&255,A/=256;for(this.u(N),N=Array(16),S=A=0;4>S;++S)for(var x=0;32>x;x+=8)N[A++]=this.g[S]>>>x&255;return N};function c(N,S){var A=m;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=S(N)}function f(N,S){this.h=S;for(var A=[],x=!0,V=N.length-1;0<=V;V--){var O=N[V]|0;x&&O==S||(A[V]=O,x=!1)}this.g=A}var m={};function y(N){return-128<=N&&128>N?c(N,function(S){return new f([S|0],0>S?-1:0)}):new f([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return z(_(-N));for(var S=[],A=1,x=0;N>=A;x++)S[x]=N/A|0,A*=4294967296;return new f(S,0)}function w(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return z(w(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(S,8)),x=C,V=0;V<N.length;V+=8){var O=Math.min(8,N.length-V),I=parseInt(N.substring(V,V+O),S);8>O?(O=_(Math.pow(S,O)),x=x.j(O).add(_(I))):(x=x.j(A),x=x.add(_(I)))}return x}var C=y(0),P=y(1),B=y(16777216);i=f.prototype,i.m=function(){if(W(this))return-z(this).m();for(var N=0,S=1,A=0;A<this.g.length;A++){var x=this.i(A);N+=(0<=x?x:4294967296+x)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if(W(this))return"-"+z(this).toString(N);for(var S=_(Math.pow(N,6)),A=this,x="";;){var V=de(A,S).g;A=ee(A,V.j(S));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=V,K(A))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function W(N){return N.h==-1}i.l=function(N){return N=ee(this,N),W(N)?-1:K(N)?0:1};function z(N){for(var S=N.g.length,A=[],x=0;x<S;x++)A[x]=~N.g[x];return new f(A,~N.h).add(P)}i.abs=function(){return W(this)?z(this):this},i.add=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],x=0,V=0;V<=S;V++){var O=x+(this.i(V)&65535)+(N.i(V)&65535),I=(O>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);x=I>>>16,O&=65535,I&=65535,A[V]=I<<16|O}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ee(N,S){return N.add(z(S))}i.j=function(N){if(K(this)||K(N))return C;if(W(this))return W(N)?z(this).j(z(N)):z(z(this).j(N));if(W(N))return z(this.j(z(N)));if(0>this.l(B)&&0>N.l(B))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,A=[],x=0;x<2*S;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<N.g.length;V++){var O=this.i(x)>>>16,I=this.i(x)&65535,Ze=N.i(V)>>>16,kt=N.i(V)&65535;A[2*x+2*V]+=I*kt,Y(A,2*x+2*V),A[2*x+2*V+1]+=O*kt,Y(A,2*x+2*V+1),A[2*x+2*V+1]+=I*Ze,Y(A,2*x+2*V+1),A[2*x+2*V+2]+=O*Ze,Y(A,2*x+2*V+2)}for(x=0;x<S;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=S;x<2*S;x++)A[x]=0;return new f(A,0)};function Y(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function te(N,S){this.g=N,this.h=S}function de(N,S){if(K(S))throw Error("division by zero");if(K(N))return new te(C,C);if(W(N))return S=de(z(N),S),new te(z(S.g),z(S.h));if(W(S))return S=de(N,z(S)),new te(z(S.g),S.h);if(30<N.g.length){if(W(N)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var A=P,x=S;0>=x.l(N);)A=Le(A),x=Le(x);var V=Te(A,1),O=Te(x,1);for(x=Te(x,2),A=Te(A,2);!K(x);){var I=O.add(x);0>=I.l(N)&&(V=V.add(A),O=I),x=Te(x,1),A=Te(A,1)}return S=ee(N,V.j(S)),new te(V,S)}for(V=C;0<=N.l(S);){for(A=Math.max(1,Math.floor(N.m()/S.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=_(A),I=O.j(S);W(I)||0<I.l(N);)A-=x,O=_(A),I=O.j(S);K(O)&&(O=P),V=V.add(O),N=ee(N,I)}return new te(V,N)}i.A=function(N){return de(this,N).h},i.and=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],x=0;x<S;x++)A[x]=this.i(x)&N.i(x);return new f(A,this.h&N.h)},i.or=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],x=0;x<S;x++)A[x]=this.i(x)|N.i(x);return new f(A,this.h|N.h)},i.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],x=0;x<S;x++)A[x]=this.i(x)^N.i(x);return new f(A,this.h^N.h)};function Le(N){for(var S=N.g.length+1,A=[],x=0;x<S;x++)A[x]=N.i(x)<<1|N.i(x-1)>>>31;return new f(A,N.h)}function Te(N,S){var A=S>>5;S%=32;for(var x=N.g.length-A,V=[],O=0;O<x;O++)V[O]=0<S?N.i(O+A)>>>S|N.i(O+A+1)<<32-S:N.i(O+A);return new f(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fg=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,Qr=f}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dg,Wo,pg,Ul,dh,mg,gg,yg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dl=="object"&&Dl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in g))break e;g=g[L]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,L={next:function(){if(!E&&g<l.length){var j=g++;return{value:d(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function C(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function P(l,d,g){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:C,P.apply(null,arguments)}function B(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function K(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,L,j){for(var J=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)J[Ue-2]=arguments[Ue];return d.prototype[L].apply(E,J)}}function W(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function z(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const L=l.length||0,j=E.length||0;l.length=L+j;for(let J=0;J<j;J++)l[L+J]=E[J]}else l.push(E)}}class ee{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(l){return/^[\s\xa0]*$/.test(l)}function te(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var Le=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Te(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function N(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function S(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,d){let g,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(g in E)l[g]=E[g];for(let j=0;j<A.length;j++)g=A[j],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function V(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function O(l){m.setTimeout(()=>{throw l},0)}function I(){var l=pe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const E=kt.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new ee(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let je,Z=!1,pe=new Ze,ie=()=>{const l=m.Promise.resolve(void 0);je=()=>{l.then(D)}};var D=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(g){O(g)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}Z=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Se(l,d){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Le){e:{try{de(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}K(Se,fe);var Re={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,d,g,E,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=L,this.key=++Fe,this.da=this.fa=!1}function yt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gn(l){this.src=l,this.g={},this.h=0}Gn.prototype.add=function(l,d,g,E,L){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var J=mr(l,d,E,L);return-1<J?(d=l[J],g||(d.fa=!1)):(d=new Be(d,this.src,j,!!E,L),d.fa=g,l.push(d)),d};function ji(l,d){var g=d.type;if(g in l.g){var E=l.g[g],L=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=L)&&Array.prototype.splice.call(E,L,1),j&&(yt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mr(l,d,g,E){for(var L=0;L<l.length;++L){var j=l[L];if(!j.da&&j.listener==d&&j.capture==!!g&&j.ha==E)return L}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),zi={};function Ys(l,d,g,E,L){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Ys(l,d[j],g,E,L);return null}return g=eo(g),l&&l[Me]?l.K(d,g,_(E)?!!E.capture:!1,L):Js(l,d,g,!1,E,L)}function Js(l,d,g,E,L,j){if(!d)throw Error("Invalid event type");var J=_(L)?!!L.capture:!!L,Ue=bi(l);if(Ue||(l[ii]=Ue=new Gn(l)),g=Ue.add(d,g,E,J,j),g.proxy)return g;if(E=ya(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)we||(L=J),L===void 0&&(L=!1),l.addEventListener(d.toString(),E,L);else if(l.attachEvent)l.attachEvent(Yn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ya(){function l(g){return d.call(l.src,l.listener,g)}const d=Zs;return l}function Bi(l,d,g,E,L){if(Array.isArray(d))for(var j=0;j<d.length;j++)Bi(l,d[j],g,E,L);else E=_(E)?!!E.capture:!!E,g=eo(g),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],g=mr(j,g,E,L),-1<g&&(yt(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=bi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mr(d,g,E,L)),(g=-1<l?d[l]:null)&&Xn(g))}function Xn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])ji(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(Yn(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=bi(d))?(ji(g,l),g.h==0&&(g.src=null,d[ii]=null)):yt(l)}}}function Yn(l){return l in zi?zi[l]:zi[l]="on"+l}function Zs(l,d){if(l.da)l=!0;else{d=new Se(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Xn(l),l=g.call(E,d)}return l}function bi(l){return l=l[ii],l instanceof Gn?l:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(l){return typeof l=="function"?l:(l[$i]||(l[$i]=function(d){return l.handleEvent(d)}),l[$i])}function ct(){b.call(this),this.i=new Gn(this),this.M=this,this.F=null}K(ct,b),ct.prototype[Me]=!0,ct.prototype.removeEventListener=function(l,d,g,E){Bi(this,l,d,g,E)};function ht(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new fe(d,l);else if(d instanceof fe)d.target=d.target||l;else{var L=d;d=new fe(E,l),x(d,L)}if(L=!0,g)for(var j=g.length-1;0<=j;j--){var J=d.g=g[j];L=Jn(J,E,!0,d)&&L}if(J=d.g=l,L=Jn(J,E,!0,d)&&L,L=Jn(J,E,!1,d)&&L,g)for(j=0;j<g.length;j++)J=d.g=g[j],L=Jn(J,E,!1,d)&&L}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)yt(g[E]);delete l.g[d],l.h--}}this.F=null},ct.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},ct.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function Jn(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,j=0;j<d.length;++j){var J=d[j];if(J&&!J.da&&J.capture==g){var Ue=J.listener,ft=J.ha||J.src;J.fa&&ji(l.i,J),L=Ue.call(ft,E)!==!1&&L}}return L&&!E.defaultPrevented}function to(l,d,g){if(typeof l=="function")g&&(l=P(l,g));else if(l&&typeof l.handleEvent=="function")l=P(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function gr(l){l.g=to(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class si extends b{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(l){b.call(this),this.h=l,this.g={}}K(oi,b);var no=[];function ro(l){Te(l.g,function(d,g){this.g.hasOwnProperty(g)&&Xn(d)},l),l.g={}}oi.prototype.N=function(){oi.aa.N.call(this),ro(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=m.JSON.stringify,so=m.JSON.parse,oo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ai(){}ai.prototype.h=null;function qi(l){return l.h||(l.h=l.i())}function Hi(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){fe.call(this,"d")}K(Vn,fe);function Qi(){fe.call(this,"c")}K(Qi,fe);var Dn={},ao=null;function li(){return ao=ao||new ct}Dn.La="serverreachability";function lo(l){fe.call(this,Dn.La,l)}K(lo,fe);function Zn(l){const d=li();ht(d,new lo(d))}Dn.STAT_EVENT="statevent";function uo(l,d){fe.call(this,Dn.STAT_EVENT,l),this.stat=d}K(uo,fe);function et(l){const d=li();ht(d,new uo(d,l))}Dn.Ma="timingevent";function Wi(l,d){fe.call(this,Dn.Ma,l),this.size=d}K(Wi,fe);function yn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function ci(l,d,g,E,L,j){l.info(function(){if(l.g)if(j)for(var J="",Ue=j.split("&"),ft=0;ft<Ue.length;ft++){var Pe=Ue[ft].split("=");if(1<Pe.length){var vt=Pe[0];Pe=Pe[1];var it=vt.split("_");J=2<=it.length&&it[1]=="type"?J+(vt+"="+Pe+"&"):J+(vt+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+d+`
`+g+`
`+J})}function Ki(l,d,g,E,L,j,J){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+d+`
`+g+`
`+j+" "+J})}function vn(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+gu(l,g)+(E?" "+E:"")})}function co(l,d){l.info(function(){return"TIMEOUT: "+d})}ui.prototype.info=function(){};function gu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return io(g)}catch{return d}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},va={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function hi(){}K(hi,ai),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},_n=new hi;function En(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _a}function _a(){this.i=null,this.g="",this.h=!1}var ho={},Xi={};function Yi(l,d,g){l.L=1,l.v=wr(en(d)),l.m=g,l.P=!0,fo(l,null)}function fo(l,d){l.F=Date.now(),be(l),l.A=en(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Sr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new _a,l.g=Fa(l.j,g?d:null,!l.m),0<l.O&&(l.M=new si(P(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(no[0]=L.toString()),L=no);for(var j=0;j<L.length;j++){var J=Ys(g,L[j],E||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Zn(),ci(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&Ht(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const it=Ht(this.g);var d=this.g.Ba();const cn=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||it!=4||d==7||(d==8||0>=cn?Zn(3):Zn(2)),fi(this);var g=this.g.Z();this.X=g;t:if(Ea(this)){var E=_o(this.g);l="";var L=E.length,j=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),yr(this);var J="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(j&&d==L-1)});E.length=0,this.h.g+=l,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=g==200,Ki(this.i,this.u,this.A,this.l,this.R,it,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ft=this.g;if((Ue=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ue)){var Pe=Ue;break t}}Pe=null}if(g=Pe)vn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,g);else{this.o=!1,this.s=3,et(12),ln(this),yr(this);break e}}if(this.P){g=!0;let nn;for(;!this.J&&this.C<J.length;)if(nn=yu(this,J),nn==Xi){it==4&&(this.s=4,et(14),g=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==ho){this.s=4,et(15),vn(this.i,this.l,J,"[Invalid Chunk]"),g=!1;break}else vn(this.i,this.l,nn,null),po(this,nn);if(Ea(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||J.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)vn(this.i,this.l,J,"[Invalid Chunked Response]"),ln(this),yr(this);else if(0<J.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),wo(vt),vt.M=!0,et(11))}}else vn(this.i,this.l,J,null),po(this,J);it==4&&ln(this),this.o&&!this.J&&(it==4?ls(this.j,this):(this.o=!1,be(this)))}else rs(this.g),g==400&&0<J.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),ln(this),yr(this)}}}catch{}finally{}};function Ea(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yu(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?Xi:(g=Number(d.substring(g,E)),isNaN(g)?ho:(E+=1,E+g>d.length?Xi:(d=d.slice(E,E+g),l.C=E+g,d)))}En.prototype.cancel=function(){this.J=!0,ln(this)};function be(l){l.S=Date.now()+l.I,wa(l,l.I)}function wa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(P(l.ba,l),d)}function fi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(co(this.i,this.A),this.L!=2&&(Zn(),et(17)),ln(this),this.s=2,yr(this)):wa(this,this.S-l)};function yr(l){l.j.G==0||l.J||ls(l.j,l)}function ln(l){fi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ro(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function po(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||jt(g.h,l))){if(!l.K&&jt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)as(g),Cn(g);else break e;os(g),et(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=yn(P(g.Za,g),6e3));if(1>=Sa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ir(g,11)}else if((l.K||g.g==l)&&as(g),!Y(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Pe=L[d];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const vt=Pe[3];vt!=null&&(g.la=vt,g.j.info("VER="+g.la));const it=Pe[4];it!=null&&(g.Aa=it,g.j.info("SVER="+g.Aa));const cn=Pe[5];cn!=null&&typeof cn=="number"&&0<cn&&(E=1.5*cn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const nn=l.g;if(nn){const _i=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var j=E.h;j.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(mo(j,j.h),j.h=null))}if(E.D){const cs=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(E.ya=cs,ze(E.I,E.D,cs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var J=l;if(E.qa=Ma(E,E.J?E.ia:null,E.W),J.K){Ia(E.h,J);var Ue=J,ft=E.L;ft&&(Ue.I=ft),Ue.B&&(fi(Ue),be(Ue)),E.g=J}else vi(E);0<g.i.length&&Fn(g)}else Pe[0]!="stop"&&Pe[0]!="close"||ir(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?ir(g,7):It(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}Zn(4)}catch{}}var Ta=class{constructor(l,d){this.g=l,this.map=d}};function di(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Sa(l){return l.h?1:l.g?l.g.size:0}function jt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function mo(l,d){l.g?l.g.add(d):l.h=d}function Ia(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}di.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ca(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return W(l.i)}function Ji(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function Zi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function vr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Zi(l),E=Ji(l),L=E.length,j=0;j<L;j++)d.call(void 0,E[j],g&&g[j],l)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),L=null;if(0<=E){var j=l[g].substring(0,E);L=l[g].substring(E+1)}else j=l[g];d(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function er(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof er){this.h=l.h,mi(this,l.j),this.o=l.o,this.g=l.g,_r(this,l.s),this.l=l.l;var d=l.i,g=new On;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Er(this,g),this.m=l.m}else l&&(d=String(l).match(pi))?(this.h=!1,mi(this,d[1]||"",!0),this.o=Ce(d[2]||""),this.g=Ce(d[3]||"",!0),_r(this,d[4]),this.l=Ce(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Ce(d[7]||"")):(this.h=!1,this.i=new On(null,this.h))}er.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Tr(d,es,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tr(d,es,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tr(g,g.charAt(0)=="/"?Pa:Ra,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tr(g,go)),l.join("")};function en(l){return new er(l)}function mi(l,d,g){l.j=g?Ce(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function _r(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Er(l,d,g){d instanceof On?(l.i=d,Ln(l.i,l.h)):(g||(d=Tr(d,ka)),l.i=new On(d,l.h))}function ze(l,d,g){l.i.set(d,g)}function wr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ce(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Aa),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Aa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var es=/[#\/\?@]/g,Ra=/[#\?:]/g,Pa=/[#\?]/g,ka=/[#\?@]/g,go=/#/g;function On(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function St(l){l.g||(l.g=new Map,l.h=0,l.i&&vu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=On.prototype,i.add=function(l,d){St(this),this.i=null,l=un(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function wn(l,d){St(l),d=un(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tn(l,d){return St(l),d=un(l,d),l.g.has(d)}i.forEach=function(l,d){St(this),this.g.forEach(function(g,E){g.forEach(function(L){l.call(d,L,E,this)},this)},this)},i.na=function(){St(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const L=l[E];for(let j=0;j<L.length;j++)g.push(d[E])}return g},i.V=function(l){St(this);let d=[];if(typeof l=="string")Tn(this,l)&&(d=d.concat(this.g.get(un(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return St(this),this.i=null,l=un(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Sr(l,d,g){wn(l,d),0<g.length&&(l.i=null,l.g.set(un(l,d),W(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const j=encodeURIComponent(String(E)),J=this.V(E);for(E=0;E<J.length;E++){var L=j;J[E]!==""&&(L+="="+encodeURIComponent(String(J[E]))),l.push(L)}}return this.i=l.join("&")};function un(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Ln(l,d){d&&!l.j&&(St(l),l.i=null,l.g.forEach(function(g,E){var L=E.toLowerCase();E!=L&&(wn(this,E),Sr(this,L,g))},l)),l.j=d}function _u(l,d){const g=new ui;if(m.Image){const E=new Image;E.onload=B(qt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=B(qt,g,"TestLoadImage: error",!1,d,E),E.onabort=B(qt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=B(qt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function xa(l,d){const g=new ui,E=new AbortController,L=setTimeout(()=>{E.abort(),qt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(L),j.ok?qt(g,"TestPingServer: ok",!0,d):qt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),qt(g,"TestPingServer: error",!1,d)})}function qt(l,d,g,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(g)}catch{}}function Eu(){this.g=new oo}function Na(l,d,g){const E=g||"";try{vr(l,function(L,j){let J=L;_(L)&&(J=io(L)),d.push(E+j+"="+encodeURIComponent(J))})}catch(L){throw d.push(E+"type="+encodeURIComponent("_badmap")),L}}function tr(l){this.l=l.Ub||null,this.j=l.eb||!1}K(tr,ai),tr.prototype.g=function(){return new gi(this.l,this.j)},tr.prototype.i=function(l){return function(){return l}}({});function gi(l,d){ct.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(gi,ct),i=gi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Va(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Va(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):In(this),this.readyState==3&&Va(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nr(l){let d="";return Te(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Ir(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=nr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ze(l,d,g))}function We(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(We,ct);var wu=/^https?$/i,yo=["POST","PUT"];i=We.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?qi(this.o):qi(_n),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){yi(this,j);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)g.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())g.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(yo,d,void 0))||E||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of g)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){yi(this,j)}};function yi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ts(l),tn(l)}function ts(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),tn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},i.bb=function(){vo(this)};function vo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)to(l.Ea,0,l);else if(ht(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const J=l.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=J===0){var L=String(l.D).match(pi)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!wu.test(L?L.toLowerCase():"")}g=E}if(g)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var j=2<Ht(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",ts(l)}}finally{tn(l)}}}}function tn(l,d){if(l.g){ns(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ht(l,"ready");try{g.onreadystatechange=E}catch{}}}function ns(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),so(d)}};function _o(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(l){const d={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Y(l[E]))continue;var g=V(l[E]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=d[L]||[];d[L]=j,j.push(g)}N(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function Eo(l){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mn("baseRetryDelayMs",5e3,l),this.cb=Mn("retryDelaySeedMs",1e4,l),this.Wa=Mn("forwardChannelMaxRetries",2,l),this.wa=Mn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new di(l&&l.concurrentRequestLimit),this.Da=new Eu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Eo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){et(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Ma(this,null,this.W),Fn(this)};function It(l){if(is(l),l.G==3){var d=l.U++,g=en(l.I);if(ze(g,"SID",l.K),ze(g,"RID",d),ze(g,"TYPE","terminate"),rr(l,g),d=new En(l,l.j,d),d.L=2,d.v=wr(en(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Fa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),be(d)}La(l)}function Cn(l){l.g&&(wo(l),l.g.cancel(),l.g=null)}function is(l){Cn(l),l.u&&(m.clearTimeout(l.u),l.u=null),as(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Fn(l){if(!Zt(l.h)&&!l.s){l.s=!0;var d=l.Ga;je||ie(),Z||(je(),Z=!0),pe.add(d,l),l.B=0}}function Tu(l,d){return Sa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(P(l.Ga,l,d),Oa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new En(this,this.j,l);let j=this.o;if(this.S&&(j?(j=S(j),x(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Cr(this,L,d),g=en(this.I),ze(g,"RID",l),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),rr(this,g),j&&(this.O?d="headers="+encodeURIComponent(String(nr(j)))+"&"+d:this.m&&Ir(g,this.m,j)),mo(this.h,L),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",d),ze(g,"SID","null"),L.T=!0,Yi(L,g,null)):Yi(L,g,d),this.G=2}}else this.G==3&&(l?ss(this,l):this.i.length==0||Zt(this.h)||ss(this))};function ss(l,d){var g;d?g=d.l:g=l.U++;const E=en(l.I);ze(E,"SID",l.K),ze(E,"RID",g),ze(E,"AID",l.T),rr(l,E),l.m&&l.o&&Ir(E,l.m,l.o),g=new En(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Cr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),mo(l.h,g),Yi(g,E,d)}function rr(l,d){l.H&&Te(l.H,function(g,E){ze(d,E,g)}),l.l&&vr({},function(g,E){ze(d,E,g)})}function Cr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?P(l.l.Na,l.l,l):null;e:{var L=l.i;let j=-1;for(;;){const J=["count="+g];j==-1?0<g?(j=L[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Ue=!0;for(let ft=0;ft<g;ft++){let Pe=L[ft].g;const vt=L[ft].map;if(Pe-=j,0>Pe)j=Math.max(0,L[ft].g-100),Ue=!1;else try{Na(vt,J,"req"+Pe+"_")}catch{E&&E(vt)}}if(Ue){E=J.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function vi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;je||ie(),Z||(je(),Z=!0),pe.add(d,l),l.v=0}}function os(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(P(l.Fa,l),Oa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Da(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(P(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Cn(this),Da(this))};function wo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Da(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=en(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),rr(l,d),l.m&&l.o&&Ir(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wr(en(d)),g.m=null,g.P=!0,fo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Cn(this),os(this),et(19))};function as(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ls(l,d){var g=null;if(l.g==d){as(l),wo(l),l.g=null;var E=2}else if(jt(l.h,d))g=d.D,Ia(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;E=li(),ht(E,new Wi(E,g)),Fn(l)}else vi(l);else if(L=d.s,L==3||L==0&&0<d.X||!(E==1&&Tu(l,d)||E==2&&os(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:ir(l,5);break;case 4:ir(l,10);break;case 3:ir(l,6);break;default:ir(l,2)}}}function Oa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function ir(l,d){if(l.j.info("Error code "+d),d==2){var g=P(l.fb,l),E=l.Xa;const L=!E;E=new er(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||mi(E,"https"),wr(E),L?_u(E.toString(),g):xa(E.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),La(l),is(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function La(l){if(l.G=0,l.ka=[],l.l){const d=Ca(l.h);(d.length!=0||l.i.length!=0)&&(z(l.ka,d),z(l.ka,l.i),l.h.i.length=0,W(l.i),l.i.length=0),l.l.ra()}}function Ma(l,d,g){var E=g instanceof er?en(g):new er(g);if(E.g!="")d&&(E.g=d+"."+E.g),_r(E,E.s);else{var L=m.location;E=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var j=new er(null);E&&mi(j,E),d&&(j.g=d),L&&_r(j,L),g&&(j.l=g),E=j}return g=l.D,d=l.ya,g&&d&&ze(E,g,d),ze(E,"VER",l.la),rr(l,E),E}function Fa(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new We(new tr({eb:g})):new We(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}i=To.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function us(){}us.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){ct.call(this),this.g=new Eo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!Y(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}K(zt,ct),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){It(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=io(l),l=g);d.i.push(new Ta(d.Ya++,l)),d.G==3&&Fn(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,zt.aa.N.call(this)};function Ua(l){Vn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}K(Ua,Vn);function ja(){Qi.call(this),this.status=1}K(ja,Qi);function Un(l){this.g=l}K(Un,To),Un.prototype.ua=function(){ht(this.g,"a")},Un.prototype.ta=function(l){ht(this.g,new Ua(l))},Un.prototype.sa=function(l){ht(this.g,new ja)},Un.prototype.ra=function(){ht(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,yg=function(){return new us},gg=function(){return li()},mg=Dn,dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Ul=Gi,va.COMPLETE="complete",pg=va,Hi.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Wo=Hi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,dg=We}).apply(typeof Dl<"u"?Dl:typeof self<"u"?self:typeof window<"u"?window:{});const bp="@firebase/firestore",$p="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new og("@firebase/firestore");function Ns(){return Mi.logLevel}function se(i,...e){if(Mi.logLevel<=xe.DEBUG){const n=e.map(Fh);Mi.debug(`Firestore (${Ks}): ${i}`,...n)}}function pr(i,...e){if(Mi.logLevel<=xe.ERROR){const n=e.map(Fh);Mi.error(`Firestore (${Ks}): ${i}`,...n)}}function js(i,...e){if(Mi.logLevel<=xe.WARN){const n=e.map(Fh);Mi.warn(`Firestore (${Ks}): ${i}`,...n)}}function Fh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vg(i,s,n)}function vg(i,e,n){let s=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function Ye(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||vg(e,a,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class xE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NE{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new _g(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class VE{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DE{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new VE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=LE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Ae(i,e){return i<e?-1:i>e?1:0}function ph(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return Jc(a)===Jc(c)?Ae(a,c):Jc(a)?1:-1}return Ae(i.length,e.length)}const ME=55296,FE=57343;function Jc(i){const e=i.charCodeAt(0);return e>=ME&&e<=FE}function zs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="__name__";class $n{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=$n.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Ae(e.length,n.length)}static compareSegments(e,n){const s=$n.isNumericId(e),a=$n.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?$n.extractNumericId(e).compare($n.extractNumericId(n)):ph(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class Qe extends $n{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const UE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends $n{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return UE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hp}static keyField(){return new $t([Hp])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,e,n){if(!n)throw new he(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jE(i,e,n,s){if(e===!0&&s===!0)throw new he(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Qp(i){if(!ye.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wp(i){if(ye.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function BE(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function oa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BE(i);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function fa(i,e){if(!zE(i))throw new he(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(a&&typeof f!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-62135596800,Gp=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Gp);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kp)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gp}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fa(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:lt("string",at._jsonSchemaVersion),seconds:lt("number"),nanoseconds:lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new at(0,0))}static max(){return new _e(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=-1;function bE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new Yr(a,ye.empty(),e)}function $E(i){return new Yr(i.readTime,i.key,aa)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(_e.min(),ye.empty(),aa)}static max(){return new Yr(_e.max(),ye.empty(),aa)}}function qE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ae(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==HE)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,s)=>{n(e)})}static reject(e){return new $((n,s)=>{s(e)})}static waitFor(e){return new $((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next(a=>a?$.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new $((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next(w=>{f[_]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new $((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function WE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}iu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-1;function su(i){return i==null}function mh(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="";function GE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Xp(e)),e=XE(i.get(n),e);return Xp(e)}function XE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case wg:n+="";break;default:n+=c}}return n}function Xp(i){return i+wg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function da(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function YE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jp(this.data.getIterator())}getIteratorFrom(e){return new Jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Br([])}unionWith(e){let n=new gt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Tg("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const JE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=JE.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="server_timestamp",Ig="__type__",Cg="__previous_value__",Ag="__local_write_time__";function jh(i){return(i?.mapValue?.fields||{})[Ig]?.stringValue===Sg}function ou(i){const e=i.mapValue.fields[Cg];return jh(e)?ou(e):e}function la(i){const e=Jr(i.mapValue.fields[Ag].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,s,a,c,f,m,y,_,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=w}}const Kl="(default)";class ua{constructor(e,n){this.projectId=e,this.database=n||Kl}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database===Kl}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="__type__",tw="__max__",Ll={mapValue:{}},nw="__vector__",gh="value";function ei(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?jh(i)?4:iw(i)?9007199254740991:rw(i)?10:11:Ee(28295,{value:i})}function Wn(i,e){if(i===e)return!0;const n=ei(i);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return la(i).isEqual(la(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Jr(a.timestampValue),m=Jr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Zr(a.bytesValue).isEqual(Zr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Yp(f)!==Yp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Wn(f[y],m[y])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function ca(i,e){return(i.values||[]).find(n=>Wn(n,e))!==void 0}function Bs(i,e){if(i===e)return 0;const n=ei(i),s=ei(e);if(n!==s)return Ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),y=nt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Zp(i.timestampValue,e.timestampValue);case 4:return Zp(la(i),la(e));case 5:return ph(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Zr(c),y=Zr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const w=Ae(m[_],y[_]);if(w!==0)return w}return Ae(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ae(nt(c.latitude),nt(f.latitude));return m!==0?m:Ae(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return em(i.arrayValue,e.arrayValue);case 10:return function(c,f){const m=c.fields||{},y=f.fields||{},_=m[gh]?.arrayValue,w=y[gh]?.arrayValue,C=Ae(_?.values?.length||0,w?.values?.length||0);return C!==0?C:em(_,w)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ll.mapValue&&f===Ll.mapValue)return 0;if(c===Ll.mapValue)return 1;if(f===Ll.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),_=f.fields||{},w=Object.keys(_);y.sort(),w.sort();for(let C=0;C<y.length&&C<w.length;++C){const P=ph(y[C],w[C]);if(P!==0)return P;const B=Bs(m[y[C]],_[w[C]]);if(B!==0)return B}return Ae(y.length,w.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Zp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ae(i,e);const n=Jr(i),s=Jr(e),a=Ae(n.seconds,s.seconds);return a!==0?a:Ae(n.nanos,s.nanos)}function em(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Bs(n[a],s[a]);if(c)return c}return Ae(n.length,s.length)}function bs(i){return yh(i)}function yh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=yh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${yh(n.fields[f])}`;return a+"}"}(i.mapValue):Ee(61005,{value:i})}function jl(i){switch(ei(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ou(i);return e?16+jl(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+jl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return da(s.fields,(c,f)=>{a+=c.length+jl(f)}),a}(i.mapValue);default:throw Ee(13486,{value:i})}}function vh(i){return!!i&&"integerValue"in i}function zh(i){return!!i&&"arrayValue"in i}function tm(i){return!!i&&"nullValue"in i}function nm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zc(i){return!!i&&"mapValue"in i}function rw(i){return(i?.mapValue?.fields||{})[ew]?.stringValue===nw}function Jo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return da(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return{...i}}function iw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===tw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=$t.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Jo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Zc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){da(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new qn(Jo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,_e.min(),_e.min(),_e.min(),qn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,_e.min(),_e.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,_e.min(),_e.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.position=e,this.inclusive=n}}function rm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Bs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function im(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function sw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{}class mt extends Rg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aw(e,n,s):n==="array-contains"?new cw(e,s):n==="in"?new hw(e,s):n==="not-in"?new fw(e,s):n==="array-contains-any"?new dw(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lw(e,s):new uw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bs(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Rg{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return Pg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pg(i){return i.op==="and"}function kg(i){return ow(i)&&Pg(i)}function ow(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function _h(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+bs(i.value);if(kg(i))return i.filters.map(e=>_h(e)).join(",");{const e=i.filters.map(n=>_h(n)).join(",");return`${i.op}(${e})`}}function xg(i,e){return i instanceof mt?function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&Wn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&xg(f,a.filters[m]),!0):!1}(i,e):void Ee(19439)}function Ng(i){return i instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${bs(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ng).join(" ,")+"}"}(i):"Filter"}class aw extends mt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class lw extends mt{constructor(e,n){super(e,"in",n),this.keys=Vg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uw extends mt{constructor(e,n){super(e,"not-in",n),this.keys=Vg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vg(i,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class cw extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zh(n)&&ca(n.arrayValue,this.value)}}class hw extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ca(this.value.arrayValue,n)}}class fw extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ca(this.value.arrayValue,n)}}class dw extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ca(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function sm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new pw(i,e,n,s,a,c,f)}function Bh(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_h(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),su(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>bs(s)).join(",")),e.Te=n}return e.Te}function bh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!sw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!xg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!im(i.startAt,e.startAt)&&im(i.endAt,e.endAt)}function Eh(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mw(i,e,n,s,a,c,f,m){return new au(i,e,n,s,a,c,f,m)}function $h(i){return new au(i)}function om(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function gw(i){return i.collectionGroup!==null}function Zo(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new gt($t.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Xl(c,s))}),n.has($t.keyField().canonicalString())||e.Ie.push(new Xl($t.keyField(),s))}return e.Ie}function Qn(i){const e=Ne(i);return e.Ee||(e.Ee=yw(e,Zo(i))),e.Ee}function yw(i,e){if(i.limitType==="F")return sm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Xl(a.field,c)});const n=i.endAt?new Gl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Gl(i.startAt.position,i.startAt.inclusive):null;return sm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function wh(i,e,n){return new au(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function lu(i,e){return bh(Qn(i),Qn(e))&&i.limitType===e.limitType}function Dg(i){return`${Bh(Qn(i))}|lt:${i.limitType}`}function Vs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ng(a)).join(", ")}]`),su(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>bs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>bs(a)).join(",")),`Target(${s})`}(Qn(i))}; limitType=${i.limitType})`}function uu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Zo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const _=rm(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,Zo(s),a)||s.endAt&&!function(f,m,y){const _=rm(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,Zo(s),a))}(i,e)}function vw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Og(i){return(e,n)=>{let s=!1;for(const a of Zo(i)){const c=_w(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function _w(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),_=m.data.field(c);return y!==null&&_!==null?Bs(y,_):Ee(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new rt(ye.comparator);function ti(){return Ew}const Lg=new rt(ye.comparator);function Ko(...i){let e=Lg;for(const n of i)e=e.insert(n.key,n);return e}function ww(i){let e=Lg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Di(){return ea()}function Mg(){return ea()}function ea(){return new Ui(i=>i.toString(),(i,e)=>i.isEqual(e))}const Tw=new gt(ye.comparator);function De(...i){let e=Tw;for(const n of i)e=e.add(n);return e}const Sw=new gt(Ae);function Iw(){return Sw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function Aw(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this._=void 0}}function Rw(i,e,n){return i instanceof Th?function(a,c){const f={fields:{[Ig]:{stringValue:Sg},[Ag]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&jh(c)&&(c=ou(c)),c&&(f.fields[Cg]=c),{mapValue:f}}(n,e):i instanceof Yl?Fg(i,e):i instanceof Jl?Ug(i,e):function(a,c){const f=kw(a,c),m=am(f)+am(a.Ae);return vh(f)&&vh(a.Ae)?Aw(m):Cw(a.serializer,m)}(i,e)}function Pw(i,e,n){return i instanceof Yl?Fg(i,e):i instanceof Jl?Ug(i,e):n}function kw(i,e){return i instanceof Sh?function(s){return vh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Th extends cu{}class Yl extends cu{constructor(e){super(),this.elements=e}}function Fg(i,e){const n=jg(e);for(const s of i.elements)n.some(a=>Wn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Jl extends cu{constructor(e){super(),this.elements=e}}function Ug(i,e){let n=jg(e);for(const s of i.elements)n=n.filter(a=>!Wn(a,s));return{arrayValue:{values:n}}}class Sh extends cu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function am(i){return nt(i.integerValue||i.doubleValue)}function jg(i){return zh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function xw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Yl&&a instanceof Yl||s instanceof Jl&&a instanceof Jl?zs(s.elements,a.elements,Wn):s instanceof Sh&&a instanceof Sh?Wn(s.Ae,a.Ae):s instanceof Th&&a instanceof Th}(i.transform,e.transform)}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qh{}function zg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vw(i.key,Oi.none()):new Hh(i.key,i.data,Oi.none());{const n=i.data,s=qn.empty();let a=new gt($t.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new hu(i.key,s,new Br(a.toArray()),Oi.none())}}function Nw(i,e,n){i instanceof Hh?function(a,c,f){const m=a.value.clone(),y=um(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof hu?function(a,c,f){if(!zl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=um(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(Bg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ta(i,e,n,s){return i instanceof Hh?function(c,f,m,y){if(!zl(c.precondition,f))return m;const _=c.value.clone(),w=cm(c.fieldTransforms,y,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof hu?function(c,f,m,y){if(!zl(c.precondition,f))return m;const _=cm(c.fieldTransforms,y,f),w=f.data;return w.setAll(Bg(c)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(c,f,m){return zl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function lm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&zs(s,a,(c,f)=>xw(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Hh extends qh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hu extends qh{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function um(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,Pw(f,m,n[a]))}return s}function cm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,Rw(c,f,e))}return s}class Vw extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Nw(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Mg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=zg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,s)=>lm(n,s))&&zs(this.baseMutations,e.baseMutations,(n,s)=>lm(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,ke;function bg(i){if(i===void 0)return pr("GRPC error has no .code"),X.UNKNOWN;switch(i){case ot.OK:return X.OK;case ot.CANCELLED:return X.CANCELLED;case ot.UNKNOWN:return X.UNKNOWN;case ot.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ot.INTERNAL:return X.INTERNAL;case ot.UNAVAILABLE:return X.UNAVAILABLE;case ot.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ot.NOT_FOUND:return X.NOT_FOUND;case ot.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ot.ABORTED:return X.ABORTED;case ot.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ot.DATA_LOSS:return X.DATA_LOSS;default:return Ee(39323,{code:i})}}(ke=ot||(ot={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Qr([4294967295,4294967295],0);function hm(i){const e=Mw().encode(i),n=new fg;return n.update(e),new Uint8Array(n.digest())}function fm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([a,c],0)]}class Qh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(s<0)throw new Go(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Qr.fromNumber(s)));return a.compare(Fw)===1&&(a=new Qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hm(e),[s,a]=fm(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,a,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Qh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=hm(e),[s,a]=fm(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,a,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,pa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fu(_e.min(),a,new rt(Ae),ti(),De())}}class pa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pa(s,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class $g{constructor(e,n){this.targetId=e,this.Ce=n}}class qg{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class dm{constructor(){this.ve=0,this.Fe=pm(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),s=De();return this.Fe.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee(38017,{changeType:c})}}),new pa(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=pm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Uw{constructor(e){this.Ge=e,this.ze=new Map,this.je=ti(),this.Je=Ml(),this.He=Ml(),this.Ye=new rt(Ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Eh(c))if(s===0){const f=new ye(c.path);this.et(n,f,Ft.newNoDocument(f,_e.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Zr(s).toUint8Array()}catch(y){if(y instanceof Tg)return js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Qh(f,a,c)}catch(y){return js(y instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Eh(m.target)){const y=new ye(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Ft.newNoDocument(y,e))}c.Be&&(n.set(f,c.ke()),c.qe())}});let s=De();this.He.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.je.forEach((c,f)=>f.setReadTime(e));const a=new fu(e,n,this.Ye,this.je,s);return this.je=ti(),this.Je=Ml(),this.He=Ml(),this.Ye=new rt(Ae),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gt(Ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gt(Ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dm),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ml(){return new rt(ye.comparator)}function pm(){return new rt(ye.comparator)}const jw={asc:"ASCENDING",desc:"DESCENDING"},zw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bw={and:"AND",or:"OR"};class bw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ih(i,e){return i.useProto3Json||su(e)?e:{value:e}}function $w(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ms(i){return Ye(!!i,49232),_e.fromTimestamp(function(n){const s=Jr(n);return new at(s.seconds,s.nanos)}(i))}function Hw(i,e){return Ch(i,e).canonicalString()}function Ch(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Hg(i){const e=Qe.fromString(i);return Ye(Xg(e),10190,{key:e.toString()}),e}function eh(i,e){const n=Hg(e);if(n.get(1)!==i.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Wg(n))}function Qg(i,e){return Hw(i.databaseId,e)}function Qw(i){const e=Hg(i);return e.length===4?Qe.emptyPath():Wg(e)}function mm(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wg(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Ww(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Ye(w===void 0||typeof w=="string",58123),Pt.fromBase64String(w||"")):(Ye(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const w=_.code===void 0?X.UNKNOWN:bg(_.code);return new he(w,_.message||"")}(f);n=new qg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=eh(i,s.document.name),c=Ms(s.document.updateTime),f=s.document.createTime?Ms(s.document.createTime):_e.min(),m=new qn({mapValue:{fields:s.document.fields}}),y=Ft.newFoundDocument(a,c,f,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new Bl(_,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=eh(i,s.document),c=s.readTime?Ms(s.readTime):_e.min(),f=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Bl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=eh(i,s.document),c=s.removedTargetIds||[];n=new Bl([],c,a,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new Lw(a,c),m=s.targetId;n=new $g(m,f)}}return n}function Kw(i,e){return{documents:[Qg(i,e.path)]}}function Gw(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Qg(i,a);const c=function(_){if(_.length!==0)return Gg(Kn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(w=>function(P){return{field:Ds(P.field),direction:Jw(P.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ih(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:n,parent:a}}function Xw(i){let e=Qw(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(C){const P=Kg(C);return P instanceof Kn&&kg(P)?P.getFilters():[P]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(P=>function(K){return new Xl(Os(K.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(P))}(n.orderBy));let m=null;n.limit&&(m=function(C){let P;return P=typeof C=="object"?C.value:C,su(P)?null:P}(n.limit));let y=null;n.startAt&&(y=function(C){const P=!!C.before,B=C.values||[];return new Gl(B,P)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const P=!C.before,B=C.values||[];return new Gl(B,P)}(n.endAt)),mw(e,a,f,c,m,"F",y,_)}function Yw(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Os(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Os(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Os(n.unaryFilter.field);return mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Os(n.unaryFilter.field);return mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(n){return mt.create(Os(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Kg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(i):Ee(30097,{filter:i})}function Jw(i){return jw[i]}function Zw(i){return zw[i]}function e1(i){return Bw[i]}function Ds(i){return{fieldPath:i.canonicalString()}}function Os(i){return $t.fromServerFormat(i.fieldPath)}function Gg(i){return i instanceof mt?function(n){if(n.op==="=="){if(nm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(tm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(tm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:Zw(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>Gg(a));return s.length===1?s[0]:{compositeFilter:{op:e1(n.op),filters:s}}}(i):Ee(54877,{filter:i})}function Xg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,s,a,c=_e.min(),f=_e.min(),m=Pt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.yt=e}}function n1(i){const e=Xw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.Cn=new i1}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Yr.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class i1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new gt(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new gt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yg=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(Yg,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $s(0)}static cr(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LruGarbageCollector",s1=1048576;function vm([i,e],[n,s]){const a=Ae(i,n);return a===0?Ae(e,s):a}class o1{constructor(e){this.Ir=e,this.buffer=new gt(vm),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(ym,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?se(ym,"Ignoring IndexedDB error during garbage collection: ",n):await ru(n)}await this.Vr(3e5)})}}class l1{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return $.resolve(iu.ce);const s=new o1(n);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(gm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gm):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,f,m,y,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,f=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),Ns()<=xe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(_-y)+`ms
Total Duration: ${_-w}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C})))}}function u1(i,e){return new l1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ta(s.mutation,a,Br.empty(),at.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,De()).next(()=>s))}getLocalViewOfDocuments(e,n,s=De()){const a=Di();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Ko();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Di();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,De()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=ti();const f=ea(),m=function(){return ea()}();return n.forEach((y,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof hu)?c=c.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),ta(w.mutation,_,w.mutation.getFieldMask(),at.now())):f.set(_.key,Br.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((_,w)=>f.set(_,w)),n.forEach((_,w)=>m.set(_,new h1(w,f.get(_)??null))),m))}recalculateAndSaveOverlays(e,n){const s=ea();let a=new rt((f,m)=>f-m),c=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let w=s.get(y)||Br.empty();w=m.applyToLocalView(_,w),s.set(y,w);const C=(a.get(m.batchId)||De()).add(y);a=a.insert(m.batchId,C)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,w=y.value,C=Mg();w.forEach(P=>{if(!c.has(P)){const B=zg(n.get(P),s.get(P));B!==null&&C.set(P,B),c=c.add(P)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,C))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):$.resolve(Di());let m=aa,y=c;return f.next(_=>$.forEach(_,(w,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(w)?$.resolve():this.remoteDocumentCache.getEntry(e,w).next(P=>{y=y.insert(w,P)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,y,_,De())).next(w=>({batchId:m,changes:ww(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let a=Ko();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Ko();return this.indexManager.getCollectionParents(e,c).next(m=>$.forEach(m,y=>{const _=function(C,P){return new au(P,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((C,P)=>{f=f.insert(C,P)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,Ft.newInvalidDocument(w)))});let m=Ko();return f.forEach((y,_)=>{const w=c.get(y);w!==void 0&&ta(w.mutation,_,Br.empty(),at.now()),uu(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ms(a.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:n1(a.bundledQuery),readTime:Ms(a.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.overlays=new rt(ye.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Di();return $.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.St(e,n,c)}),$.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const a=Di(),c=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return $.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new rt((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=Di(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=Di(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return $.resolve(m)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ow(n,s));let c=this.qr.get(n);c===void 0&&(c=De(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.Qr=new gt(Tt.$r),this.Ur=new gt(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Tt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ye(new Qe([])),s=new Tt(n,e),a=new Tt(n,e+1),c=[];return this.Ur.forEachInRange([s,a],f=>{this.Gr(f),c.push(f.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new Qe([])),s=new Tt(n,e),a=new Tt(n,e+1);let c=De();return this.Ur.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Tt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ae(e.Yr,n.Yr)}static Kr(e,n){return Ae(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gt(Tt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Dw(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.Zr=this.Zr.add(new Tt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?KE:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Tt(n,0),a=new Tt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],f=>{const m=this.Xr(f.Yr);c.push(m)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gt(Ae);return n.forEach(a=>{const c=new Tt(a,0),f=new Tt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],m=>{s=s.add(m.Yr)})}),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const f=new Tt(new ye(c),0);let m=new gt(Ae);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(y.Yr)),!0)},f),$.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,a=>{const c=new Tt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Tt(n,0),a=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.ri=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=ti();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=ti();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:w}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||qE($E(w),s)<=0||(a.has(w.key)||uu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Ee(9500)}ii(e,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new v1(this)}getSize(e){return $.resolve(this.size)}}class v1 extends c1{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.persistence=e,this.si=new Ui(n=>Bh(n),bh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new Wh,this.targetCount=0,this.ai=$s.ur()}forEachTarget(e,n){return this.si.forEach((s,a)=>n(a)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),$.waitFor(c).next(()=>a)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){this.ui={},this.overlays={},this.ci=new iu(0),this.li=!1,this.li=!0,this.hi=new m1,this.referenceDelegate=e(this),this.Pi=new _1(this),this.indexManager=new r1,this.remoteDocumentCache=function(a){return new y1(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new t1(n),this.Ii=new d1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new g1(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new E1(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(c=>this.referenceDelegate.di(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ai(e,n){return $.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class E1 extends QE{constructor(e){super(),this.currentSequenceNumber=e}}class Kh{constructor(e){this.persistence=e,this.Ri=new Wh,this.Vi=null}static mi(e){return new Kh(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,s=>{const a=ye.fromPath(s);return this.gi(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zl{constructor(e,n){this.persistence=e,this.pi=new Ui(s=>GE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=u1(this,n)}static mi(e,n){return new Zl(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(s,a)=>this.br(e,s,a).next(c=>c?$.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,c.removeEntry(f,_e.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jl(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return $.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=De(),a=De();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Gh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return u0()?8:WE(a0())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ws(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new w1;return this.Ss(e,n,f).next(m=>{if(c.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>c.result)}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ns()<=xe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ns()<=xe.DEBUG&&se("QueryEngine","Query:",Vs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ns()<=xe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):$.resolve())}ys(e,n){if(om(n))return $.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=wh(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=De(...c);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.Ds(n,m);return this.Cs(n,_,f,y.readTime)?this.ys(e,wh(n,null,"F")):this.vs(e,_,n,y)}))})))}ws(e,n,s,a){return om(n)||a.isEqual(_e.min())?$.resolve(null):this.ps.getDocuments(e,s).next(c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,a)?$.resolve(null):(Ns()<=xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vs(n)),this.vs(e,f,n,bE(a,aa)).next(m=>m))})}Ds(e,n){let s=new gt(Og(e));return n.forEach((a,c)=>{uu(e,c)&&(s=s.add(c))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return Ns()<=xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.ps.getDocumentsMatchingQuery(e,n,Yr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="LocalStore",S1=3e8;class I1{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new rt(Ae),this.xs=new Ui(c=>Bh(c),bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function C1(i,e,n,s){return new I1(i,e,n,s)}async function Zg(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=De();for(const _ of a){f.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:f,addedBatchIds:m}))})})}function ey(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function A1(i,e){const n=Ne(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach((w,C)=>{const P=a.get(C);if(!P)return;m.push(n.Pi.removeMatchingKeys(c,w.removedDocuments,C).next(()=>n.Pi.addMatchingKeys(c,w.addedDocuments,C)));let B=P.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?B=B.withResumeToken(Pt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,s)),a=a.insert(C,B),function(W,z,ee){return W.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=S1?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(P,B,w)&&m.push(n.Pi.updateTargetData(c,B))});let y=ti(),_=De();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(R1(c,f,e.documentUpdates).next(w=>{y=w.ks,_=w.qs})),!s.isEqual(_e.min())){const w=n.Pi.getLastRemoteSnapshotVersion(c).next(C=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return $.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(n.Ms=a,c))}function R1(i,e,n){let s=De(),a=De();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=ti();return n.forEach((m,y)=>{const _=c.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(_e.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):se(Xh,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{ks:f,qs:a}})}function P1(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,e).next(c=>c?(a=c,$.resolve(a)):n.Pi.allocateTargetId(s).next(f=>(a=new br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Ah(i,e,n){const s=Ne(i),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Gs(f))throw f;se(Xh,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function _m(i,e,n){const s=Ne(i);let a=_e.min(),c=De();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,w){const C=Ne(y),P=C.xs.get(w);return P!==void 0?$.resolve(C.Ms.get(P)):C.Pi.getTargetData(_,w)}(s,f,Qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?a:_e.min(),n?c:De())).next(m=>(k1(s,vw(e),m),{documents:m,Qs:c})))}function k1(i,e,n){let s=i.Os.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Os.set(e,s)}class Em{constructor(){this.activeTargetIds=Iw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x1{constructor(){this.Mo=new Em,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Em,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="ConnectivityMonitor";class Tm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(wm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(wm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl=null;function Rh(){return Fl===null?Fl=function(){return 268435456+Math.round(2147483648*Math.random())}():Fl++,"0x"+Fl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="RestConnection",V1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D1{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Kl?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const f=Rh(),m=this.zo(e,n.toUriEncodedString());se(th,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,c);const{host:_}=new URL(m),w=Lh(_);return this.Jo(e,m,y,s,w).then(C=>(se(th,`Received RPC '${e}' ${f}: `,C),C),C=>{throw js(th,`RPC '${e}' ${f} failed with error: `,C,"url: ",m,"request:",s),C})}Ho(e,n,s,a,c,f){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}zo(e,n){const s=V1[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class L1 extends D1{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const f=Rh();return new Promise((m,y)=>{const _=new dg;_.setWithCredentials(!0),_.listenOnce(pg.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ul.NO_ERROR:const C=_.getResponseJson();se(Lt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(C)),m(C);break;case Ul.TIMEOUT:se(Lt,`RPC '${e}' ${f} timed out`),y(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:const P=_.getStatus();if(se(Lt,`RPC '${e}' ${f} failed with status:`,P,"response text:",_.getResponseText()),P>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const K=B?.error;if(K&&K.status&&K.message){const W=function(ee){const Y=ee.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Y)>=0?Y:X.UNKNOWN}(K.status);y(new he(W,K.message))}else y(new he(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new he(X.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{se(Lt,`RPC '${e}' ${f} completed.`)}});const w=JSON.stringify(a);se(Lt,`RPC '${e}' ${f} sending request:`,a),_.send(n,"POST",w,s,15)})}T_(e,n,s){const a=Rh(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=yg(),m=gg(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");se(Lt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const C=f.createWebChannel(w,y);this.I_(C);let P=!1,B=!1;const K=new O1({Yo:z=>{B?se(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(P||(se(Lt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),P=!0),se(Lt,`RPC '${e}' stream ${a} sending:`,z),C.send(z))},Zo:()=>C.close()}),W=(z,ee,Y)=>{z.listen(ee,te=>{try{Y(te)}catch(de){setTimeout(()=>{throw de},0)}})};return W(C,Wo.EventType.OPEN,()=>{B||(se(Lt,`RPC '${e}' stream ${a} transport opened.`),K.o_())}),W(C,Wo.EventType.CLOSE,()=>{B||(B=!0,se(Lt,`RPC '${e}' stream ${a} transport closed`),K.a_(),this.E_(C))}),W(C,Wo.EventType.ERROR,z=>{B||(B=!0,js(Lt,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),K.a_(new he(X.UNAVAILABLE,"The operation could not be completed")))}),W(C,Wo.EventType.MESSAGE,z=>{if(!B){const ee=z.data[0];Ye(!!ee,16349);const Y=ee,te=Y?.error||Y[0]?.error;if(te){se(Lt,`RPC '${e}' stream ${a} received error:`,te);const de=te.status;let Le=function(S){const A=ot[S];if(A!==void 0)return bg(A)}(de),Te=te.message;Le===void 0&&(Le=X.INTERNAL,Te="Unknown error status: "+de+" with message "+te.message),B=!0,K.a_(new he(Le,Te)),C.close()}else se(Lt,`RPC '${e}' stream ${a} received:`,ee),K.u_(ee)}}),W(m,mg.STAT_EVENT,z=>{z.stat===dh.PROXY?se(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===dh.NOPROXY&&se(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{K.__()},0),K}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function nh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i){return new bw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="PersistentStream";class M1{constructor(e,n,s,a,c,f,m,y){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ny(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{e(()=>{const a=new he(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se(Sm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se(Sm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F1 extends M1{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ww(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?Ms(f.readTime):_e.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=mm(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=Eh(y)?{documents:Kw(c,y)}:{query:Gw(c,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qw(c,f.resumeToken);const _=Ih(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(_e.min())>0){m.readTime=$w(c,f.snapshotVersion.toTimestamp());const _=Ih(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=Yw(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class j1 extends U1{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Go(e,Ch(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(X.UNKNOWN,c.toString())})}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Ch(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(X.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class z1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class B1{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{ga(this)&&(se(qs,"Restarting streams for network reachability change."),await async function(y){const _=Ne(y);_.Ea.add(4),await ma(_),_.Ra.set("Unknown"),_.Ea.delete(4),await du(_)}(this))})}),this.Ra=new z1(s,a)}}async function du(i){if(ga(i))for(const e of i.da)await e(!0)}async function ma(i){for(const e of i.da)await e(!1)}function ry(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ef(n)?Zh(n):Xs(n).O_()&&Jh(n,e))}function Yh(i,e){const n=Ne(i),s=Xs(n);n.Ia.delete(e),s.O_()&&iy(n,e),n.Ia.size===0&&(s.O_()?s.L_():ga(n)&&n.Ra.set("Unknown"))}function Jh(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(i).Y_(e)}function iy(i,e){i.Va.Ue(e),Xs(i).Z_(e)}function Zh(i){i.Va=new Uw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.Ra.ua()}function ef(i){return ga(i)&&!Xs(i).x_()&&i.Ia.size>0}function ga(i){return Ne(i).Ea.size===0}function sy(i){i.Va=void 0}async function b1(i){i.Ra.set("Online")}async function $1(i){i.Ia.forEach((e,n)=>{Jh(i,e)})}async function q1(i,e){sy(i),ef(i)?(i.Ra.ha(e),Zh(i)):i.Ra.set("Unknown")}async function H1(i,e,n){if(i.Ra.set("Online"),e instanceof qg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.Ia.delete(m),a.Va.removeTarget(m))}(i,e)}catch(s){se(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Im(i,s)}else if(e instanceof Bl?i.Va.Ze(e):e instanceof $g?i.Va.st(e):i.Va.tt(e),!n.isEqual(_e.min()))try{const s=await ey(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.Ia.get(_);w&&c.Ia.set(_,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const w=c.Ia.get(y);if(!w)return;c.Ia.set(y,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),iy(c,y);const C=new br(w.target,y,_,w.sequenceNumber);Jh(c,C)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se(qs,"Failed to raise snapshot:",s),await Im(i,s)}}async function Im(i,e,n){if(!Gs(e))throw e;i.Ea.add(1),await ma(i),i.Ra.set("Offline"),n||(n=()=>ey(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se(qs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await du(i)})}async function Cm(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),se(qs,"RemoteStore received new credentials");const s=ga(n);n.Ea.add(3),await ma(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await du(n)}async function Q1(i,e){const n=Ne(i);e?(n.Ea.delete(2),await du(n)):e||(n.Ea.add(2),await ma(n),n.Ra.set("Unknown"))}function Xs(i){return i.ma||(i.ma=function(n,s,a){const c=Ne(n);return c.sa(),new F1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Xo:b1.bind(null,i),t_:$1.bind(null,i),r_:q1.bind(null,i),H_:H1.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),ef(i)?Zh(i):i.Ra.set("Unknown")):(await i.ma.stop(),sy(i))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new tf(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(i,e){if(pr("AsyncQueue",`${e}: ${i}`),Gs(i))return new he(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(e){return new Fs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ko(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.ga=new rt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hs{constructor(e,n,s,a,c,f,m,y,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Hs(e,n,Fs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class K1{constructor(){this.queries=Rm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ne(n),c=a.queries;a.queries=Rm(),c.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new he(X.ABORTED,"Firestore shutting down"))}}function Rm(){return new Ui(i=>Dg(i),lu)}async function ay(i,e){const n=Ne(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new W1,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=oy(f,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&nf(n)}async function ly(i,e){const n=Ne(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function G1(i,e){const n=Ne(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(a)&&(s=!0);f.wa=a}}s&&nf(n)}function X1(i,e,n){const s=Ne(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function nf(i){i.Ca.forEach(e=>{e.next()})}var Ph,Pm;(Pm=Ph||(Ph={})).Ma="default",Pm.Cache="cache";class uy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ph.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.key=e}}class hy{constructor(e){this.key=e}}class Y1{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=Og(e),this.tu=new Fs(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Am,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,C)=>{const P=a.get(w),B=uu(this.query,C)?C:null,K=!!P&&this.mutatedKeys.has(P.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let z=!1;P&&B?P.data.isEqual(B.data)?K!==W&&(s.track({type:3,doc:B}),z=!0):this.su(P,B)||(s.track({type:2,doc:B}),z=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(m=!0)):!P&&B?(s.track({type:0,doc:B}),z=!0):P&&!B&&(s.track({type:1,doc:P}),z=!0,(y||_)&&(m=!0)),z&&(B?(f=f.add(B),c=W?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:f,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((w,C)=>function(B,K){const W=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:z})}};return W(B)-W(K)}(w.type,C.type)||this.eu(w.doc,C.doc)),this.ou(s),a=a??!1;const m=n&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new Hs(this.query,e.tu,c,f,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Am,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new hy(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new cy(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rf="SyncEngine";class J1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Z1{constructor(e){this.key=e,this.hu=!1}}class eT{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ui(m=>Dg(m),lu),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ye.comparator),this.Au=new Map,this.Ru=new Wh,this.Vu={},this.mu=new Map,this.fu=$s.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tT(i,e,n=!0){const s=gy(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await fy(s,e,n,!0),a}async function nT(i,e){const n=gy(i);await fy(n,e,!0,!1)}async function fy(i,e,n,s){const a=await P1(i.localStore,Qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await rT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&ry(i.remoteStore,a),m}async function rT(i,e,n,s,a){i.pu=(C,P,B)=>async function(W,z,ee,Y){let te=z.view.ru(ee);te.Cs&&(te=await _m(W.localStore,z.query,!1).then(({documents:N})=>z.view.ru(N,te)));const de=Y&&Y.targetChanges.get(z.targetId),Le=Y&&Y.targetMismatches.get(z.targetId)!=null,Te=z.view.applyChanges(te,W.isPrimaryClient,de,Le);return xm(W,z.targetId,Te.au),Te.snapshot}(i,C,P,B);const c=await _m(i.localStore,e,!0),f=new Y1(e,c.Qs),m=f.ru(c.documents),y=pa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,y);xm(i,n,_.au);const w=new J1(e,n,f);return i.Tu.set(e,w),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),_.snapshot}async function iT(i,e,n){const s=Ne(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter(f=>!lu(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ah(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Yh(s.remoteStore,a.targetId),kh(s,a.targetId)}).catch(ru)):(kh(s,a.targetId),await Ah(s.localStore,a.targetId,!0))}async function sT(i,e){const n=Ne(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yh(n.remoteStore,s.targetId))}async function dy(i,e){const n=Ne(i);try{const s=await A1(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Au.get(c);f&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.hu=!0:a.modifiedDocuments.size>0?Ye(f.hu,14607):a.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))}),await my(n,s,e)}catch(s){await ru(s)}}function km(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((c,f)=>{const m=f.view.va(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=Ne(f);y.onlineState=m;let _=!1;y.queries.forEach((w,C)=>{for(const P of C.Sa)P.va(m)&&(_=!0)}),_&&nf(y)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oT(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let f=new rt(ye.comparator);f=f.insert(c,Ft.newNoDocument(c,_e.min()));const m=De().add(c),y=new fu(_e.min(),new Map,new rt(Ae),f,m);await dy(s,y),s.du=s.du.remove(c),s.Au.delete(e),sf(s)}else await Ah(s.localStore,e,!1).then(()=>kh(s,e,n)).catch(ru)}function kh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||py(i,s)})}function py(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Yh(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),sf(i))}function xm(i,e,n){for(const s of n)s instanceof cy?(i.Ru.addReference(s.key,e),aT(i,s)):s instanceof hy?(se(rf,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||py(i,s.key)):Ee(19791,{wu:s})}function aT(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(se(rf,"New document in limbo: "+n),i.Eu.add(s),sf(i))}function sf(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(Qe.fromString(e)),s=i.fu.next();i.Au.set(s,new Z1(n)),i.du=i.du.insert(n,s),ry(i.remoteStore,new br(Qn($h(n.path)),s,"TargetPurposeLimboResolution",iu.ce))}}async function my(i,e,n){const s=Ne(i),a=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,e,n).then(_=>{if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(_){a.push(_);const w=Gh.As(y.targetId,_);c.push(w)}}))}),await Promise.all(f),s.Pu.H_(a),await async function(y,_){const w=Ne(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>$.forEach(_,P=>$.forEach(P.Es,B=>w.persistence.referenceDelegate.addReference(C,P.targetId,B)).next(()=>$.forEach(P.ds,B=>w.persistence.referenceDelegate.removeReference(C,P.targetId,B)))))}catch(C){if(!Gs(C))throw C;se(Xh,"Failed to update sequence numbers: "+C)}for(const C of _){const P=C.targetId;if(!C.fromCache){const B=w.Ms.get(P),K=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(K);w.Ms=w.Ms.insert(P,W)}}}(s.localStore,c))}async function lT(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){se(rf,"User change. New user:",e.toKey());const s=await Zg(n.localStore,e);n.currentUser=e,function(c,f){c.mu.forEach(m=>{m.forEach(y=>{y.reject(new he(X.CANCELLED,f))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await my(n,s.Ls)}}function uT(i,e){const n=Ne(i),s=n.Au.get(e);if(s&&s.hu)return De().add(s.key);{let a=De();const c=n.Iu.get(e);if(!c)return a;for(const f of c){const m=n.Tu.get(f);a=a.unionWith(m.view.nu)}return a}}function gy(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=dy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oT.bind(null,e),e.Pu.H_=G1.bind(null,e.eventManager),e.Pu.yu=X1.bind(null,e.eventManager),e}class eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return C1(this.persistence,new T1,e.initialUser,this.serializer)}Cu(e){return new Jg(Kh.mi,this.serializer)}Du(e){return new x1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eu.provider={build:()=>new eu};class cT extends eu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Zl,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new a1(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Jg(s=>Zl.mi(s,n),this.serializer)}}class xh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>km(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lT.bind(null,this.syncEngine),await Q1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K1}()}createDatastore(e){const n=ty(e.databaseInfo.databaseId),s=function(c){return new L1(c)}(e.databaseInfo);return function(c,f,m,y){return new j1(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new B1(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>km(this.syncEngine,n,0),function(){return Tm.v()?new Tm:new N1}())}createSyncEngine(e,n){return function(a,c,f,m,y,_,w){const C=new eT(a,c,f,m,y,_);return w&&(C.gu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ne(n);se(qs,"RemoteStore shutting down."),s.Ea.add(5),await ma(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xh.provider={build:()=>new xh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="FirestoreClient";class hT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{se(ni,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(se(ni,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=oy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rh(i,e){i.asyncQueue.verifyOperationInProgress(),se(ni,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Zg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await fT(i);se(ni,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Cm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Cm(e.remoteStore,a)),i._onlineComponents=e}async function fT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se(ni,"Using user provided OfflineComponentProvider");try{await rh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await rh(i,new eu)}}else se(ni,"Using default OfflineComponentProvider"),await rh(i,new cT(void 0));return i._offlineComponents}async function dT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se(ni,"Using user provided OnlineComponentProvider"),await Nm(i,i._uninitializedComponentsProvider._online)):(se(ni,"Using default OnlineComponentProvider"),await Nm(i,new xh))),i._onlineComponents}async function vy(i){const e=await dT(i),n=e.eventManager;return n.onListen=tT.bind(null,e.syncEngine),n.onUnlisten=iT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sT.bind(null,e.syncEngine),n}function pT(i,e,n={}){const s=new Wr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,_){const w=new yy({next:P=>{w.Nu(),f.enqueueAndForget(()=>ly(c,C));const B=P.docs.has(m);!B&&P.fromCache?_.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&P.fromCache&&y&&y.source==="server"?_.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(P)},error:P=>_.reject(P)}),C=new uy($h(m.path),w,{includeMetadataChanges:!0,qa:!0});return ay(c,C)}(await vy(i),i.asyncQueue,e,n,s)),s.promise}function mT(i,e,n={}){const s=new Wr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,_){const w=new yy({next:P=>{w.Nu(),f.enqueueAndForget(()=>ly(c,C)),P.fromCache&&y.source==="server"?_.reject(new he(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),C=new uy(m,w,{includeMetadataChanges:!0,qa:!0});return ay(c,C)}(await vy(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="firestore.googleapis.com",Dm=!0;class Om{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ey,this.ssl=Dm}else this.host=e.host,this.ssl=e.ssl??Dm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s1)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_y(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new kE;switch(s.type){case"firstParty":return new DE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Vm.get(n);s&&(se("ComponentProvider","Removing Datastore"),Vm.delete(n),s.terminate())}(this),Promise.resolve()}}function gT(i,e,n,s={}){i=oa(i,pu);const a=Lh(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;a&&(n0(`https://${m}`),o0("Firestore",!0)),c.host!==Ey&&c.host!==m&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:a,emulatorOptions:s};if(!Hl(y,f)&&(i._setSettings(y),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Mt.MOCK_USER;else{_=r0(s.mockUserToken,i._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Mt(C)}i._authCredentials=new xE(new _g(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mu(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(fa(n,Ut._jsonSchema))return new Ut(e,s||null,new ye(Qe.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:lt("string",Ut._jsonSchemaVersion),referencePath:lt("string")};class Kr extends mu{constructor(e,n,s){super(e,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ye(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function yT(i,e,...n){if(i=sg(i),Eg("collection","path",e),i instanceof pu){const s=Qe.fromString(e,...n);return Wp(s),new Kr(i,null,s)}{if(!(i instanceof Ut||i instanceof Kr))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Wp(s),new Kr(i.firestore,null,s)}}function vT(i,e,...n){if(i=sg(i),arguments.length===1&&(e=Uh.newId()),Eg("doc","path",e),i instanceof pu){const s=Qe.fromString(e,...n);return Qp(s),new Ut(i,null,new ye(s))}{if(!(i instanceof Ut||i instanceof Kr))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Qp(s),new Ut(i.firestore,i instanceof Kr?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="AsyncQueue";class Mm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ny(this,"async_queue_retry"),this._c=()=>{const s=nh();s&&se(Lm,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=nh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gs(e))throw e;se(Lm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",Fm(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=tf.createAndSchedule(this,e,n,s,c=>this.hc(c));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:Fm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Fm(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class of extends pu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Mm,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function _T(i,e){const n=typeof i=="object"?i:gE(),s=typeof i=="string"?i:Kl,a=hE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=e0("firestore");c&&gT(a,...c)}return a}function wy(i){if(i._terminated)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ET(i),i._firestoreClient}function ET(i){const e=i._freezeSettings(),n=function(a,c,f,m){return new ZE(a,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_y(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new hT(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Pt.fromBase64String(e))}catch(n){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fa(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:lt("string",Hn._jsonSchemaVersion),bytes:lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(fa(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:lt("string",Gr._jsonSchemaVersion),latitude:lt("number"),longitude:lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fa(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xr(e.vectorValues);throw new he(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:lt("string",Xr._jsonSchemaVersion),vectorValues:lt("object")};const wT=new RegExp("[~\\*/\\[\\]]");function TT(i,e,n){if(e.search(wT)>=0)throw Um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Ty(...e.split("."))._internalPath}catch{throw Um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function Um(i,e,n,s,a){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new he(X.INVALID_ARGUMENT,c+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ST(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ST extends Sy{data(){return super.data()}}function Iy(i,e){return typeof e=="string"?TT(i,e):e instanceof Ty?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CT{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return da(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map(s=>nt(s.doubleValue));return new Xr(n)}convertGeoPoint(e){return new Gr(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ou(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);Ye(Xg(s),9688,{name:e});const a=new ua(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return a.isEqual(n)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Li extends Sy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Iy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Li._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Li._jsonSchemaVersion="firestore/documentSnapshot/1.0",Li._jsonSchema={type:lt("string",Li._jsonSchemaVersion),bundleSource:lt("string","DocumentSnapshot"),bundleName:lt("string"),bundle:lt("string")};class bl extends Li{data(e={}){return super.data(e)}}class Us{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new bl(this._firestore,this._userDataWriter,s.key,s,new Xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Xo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Xo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:AT(m.type),doc:y,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(i){i=oa(i,Ut);const e=oa(i.firestore,of);return pT(wy(e),i._key).then(n=>kT(e,i,n))}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:lt("string",Us._jsonSchemaVersion),bundleSource:lt("string","QuerySnapshot"),bundleName:lt("string"),bundle:lt("string")};class Cy extends CT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function PT(i){i=oa(i,mu);const e=oa(i.firestore,of),n=wy(e),s=new Cy(e);return IT(i._query),mT(n,i._query).then(a=>new Us(e,s,i,a))}function kT(i,e,n){const s=n.docs.get(e._key),a=new Cy(i);return new Li(i,a,e._key,s,new Xo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ks=a})(mE),Wl(new ia("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new of(new NE(s.getProvider("auth-internal")),new OE(f,s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(_.options.projectId,w)}(f,a),f);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ls(bp,$p,e),Ls(bp,$p,"esm2020")})();const xT={apiKey:"AIzaSyApMfjjyXaeWcjAOdsFcAVYySYGnrCbbAo",authDomain:"skillnestcasestudysim.firebaseapp.com",projectId:"skillnestcasestudysim",storageBucket:"skillnestcasestudysim.appspot.com",messagingSenderId:"859733761457",appId:"1:859733761457:web:f137f75a1c2b6c8400f190"},NT=ug(xT),Ay=_T(NT),VT=()=>{const[i,e]=ne.useState([]);return ne.useEffect(()=>{(async()=>{try{const a=(await PT(yT(Ay,"caseStudies"))).docs.map(c=>({id:c.id,...c.data()}));e(a)}catch(s){console.error("🔥 Error fetching cases from Firestore:",s)}})()},[]),ce.jsx("ul",{className:"space-y-4",children:i.map(n=>ce.jsxs("li",{className:"border p-4 rounded bg-white shadow hover:shadow-md transition",children:[ce.jsx(eg,{to:`/case/${n.id}`,className:"text-lg font-medium text-brandBlue hover:underline",children:n.title}),ce.jsxs("p",{className:"text-sm text-gray-600",children:[n.topic," | ",n.commandTerm," | ",n.paperType]})]},n.id))})},DT="/assets/logo-BA-ao8XL.png",OT=()=>ce.jsxs("main",{className:"p-6 max-w-6xl mx-auto",children:[ce.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ce.jsx("img",{src:DT,alt:"SkillNest Logo",className:"h-12"}),ce.jsx("h1",{className:"text-4xl font-extrabold text-brandBlue",children:"IB Business Case Studies"})]}),ce.jsx(VT,{})]}),LT=()=>{const{id:i}=y_(),[e,n]=ne.useState(null),[s,a]=ne.useState({}),[c,f]=ne.useState({}),[m,y]=ne.useState({}),[_,w]=ne.useState({}),[C,P]=ne.useState(!0);ne.useEffect(()=>{localStorage.removeItem(`responses-${i}`)},[i]),ne.useEffect(()=>{localStorage.setItem(`responses-${i}`,JSON.stringify(s))},[s,i]),ne.useEffect(()=>{(async()=>{try{const Y=vT(Ay,"caseStudies",i),te=await RT(Y);te.exists()?n(te.data()):n(null)}catch(Y){console.error("Error fetching case:",Y),n(null)}finally{P(!1)}})()},[i]);const B=(ee,Y)=>`${{7:"Outstanding analysis and application to the real-world context.",6:"Excellent depth and clarity in explanation.",5:"Good understanding with minor elaboration needed.",4:"Satisfactory response, but more depth is expected.",3:"Some understanding, more real-world linkages required.",2:"Basic attempt. Focus on command term and structure."}[ee]||"Insufficient response. Try expanding and adding examples."} (Based on ${Y})`,K=(ee,Y)=>{a({...s,[Y]:ee.target.value}),f({...c,[Y]:!1})},W=ee=>{const te=(s[ee]||"").trim().split(/\s+/).length;let de=1;te>300?de=7:te>250?de=6:te>200?de=5:te>150?de=4:te>100?de=3:te>50&&(de=2);const Le=e?.paperType||"Paper 1";y(Te=>({...Te,[ee]:de})),f(Te=>({...Te,[ee]:!0})),w(Te=>({...Te,[ee]:B(de,Le)}))},z=ee=>{if(!ee)return null;const Y=Array.isArray(ee)?ee.join(`
`):ee;return ce.jsx("p",{className:"mt-2 whitespace-pre-line text-gray-700",children:Y})};return C?ce.jsx("p",{className:"p-4 text-gray-600",children:"Loading case study..."}):e?ce.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[ce.jsx(eg,{to:"/",className:"text-blue-500 underline text-sm",children:"← Back to Dashboard"}),ce.jsx("h1",{className:"text-2xl font-bold text-gray-800 mt-4",children:e.title}),ce.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[ce.jsx("strong",{children:"Topic:"})," ",e.topic," | ",ce.jsx("strong",{children:"Command:"})," ",e.commandTerm," | ",ce.jsx("strong",{children:"Paper:"})," ",e.paperType]}),ce.jsx("div",{className:"space-y-3",children:Array.isArray(e.caseText)&&e.caseText.map((ee,Y)=>ce.jsx("p",{children:ee},Y))}),Array.isArray(e.dataTable)&&e.dataTable.length>1&&ce.jsxs("div",{className:"mt-6",children:[ce.jsx("h2",{className:"font-semibold text-gray-800 mb-2",children:"📊 Data Table"}),ce.jsx("table",{className:"min-w-full border border-gray-300 text-sm",children:ce.jsx("tbody",{children:e.dataTable.map((ee,Y)=>ce.jsx("tr",{children:ee.split(",").map((te,de)=>ce.jsx("td",{className:"border px-3 py-2",children:te},de))},Y))})})]}),Array.isArray(e.questions)&&ce.jsxs("div",{className:"mt-6",children:[ce.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"❓ Questions"}),e.questions.map((ee,Y)=>ce.jsxs("div",{className:"mb-5",children:[ce.jsxs("p",{className:"font-medium mb-2",children:[Y+1,". ",ee]}),ce.jsx("textarea",{className:"w-full border border-gray-300 rounded p-2 text-sm",rows:"6",value:s[Y]||"",onChange:te=>K(te,Y)}),ce.jsx("button",{className:"mt-2 px-4 py-1 bg-green-600 text-white rounded text-sm",onClick:()=>W(Y),children:"Submit"}),(c[Y]||m[Y])&&ce.jsxs("div",{className:"text-sm mt-1 text-green-700 border border-red-500 p-2",children:["✅ Answer saved! Estimated Band Score: ",m[Y]||1,"/7",ce.jsx("br",{}),"💬 Feedback: ",_[Y]]})]},Y))]}),ce.jsxs("div",{className:"mt-6 space-y-3",children:[e.modelAnswer&&ce.jsxs("details",{className:"border p-3 rounded",children:[ce.jsx("summary",{className:"cursor-pointer font-semibold text-blue-600",children:"💡 Model Answer"}),z(e.modelAnswer)]}),e.toolkit&&ce.jsxs("details",{className:"border p-3 rounded",children:[ce.jsx("summary",{className:"cursor-pointer font-semibold text-yellow-700",children:"🧰 Toolkit"}),z(e.toolkit)]}),e.TOK&&ce.jsxs("details",{className:"border p-3 rounded",children:[ce.jsx("summary",{className:"cursor-pointer font-semibold text-purple-700",children:"🧠 TOK Connection"}),z(e.TOK)]}),e.IA&&ce.jsxs("details",{className:"border p-3 rounded",children:[ce.jsx("summary",{className:"cursor-pointer font-semibold text-pink-700",children:"📊 IA Idea"}),z(e.IA)]}),e.EE&&ce.jsxs("details",{className:"border p-3 rounded",children:[ce.jsx("summary",{className:"cursor-pointer font-semibold text-green-700",children:"📘 EE Exploration"}),z(e.EE)]}),e.resources&&ce.jsxs("details",{className:"border p-3 rounded",children:[ce.jsx("summary",{className:"cursor-pointer font-semibold text-gray-700",children:"🔗 Additional Resources"}),Array.isArray(e.resources)?ce.jsx("ul",{className:"list-disc ml-5",children:e.resources.map((ee,Y)=>ce.jsx("li",{children:ce.jsx("a",{href:ee,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:ee})},Y))}):ce.jsx("p",{className:"mt-2 text-blue-600 underline",children:ce.jsx("a",{href:e.resources,target:"_blank",rel:"noopener noreferrer",children:"View Resource"})})]})]})]}):ce.jsx("p",{className:"p-4 text-red-500",children:"Case Study not found."})};zv.createRoot(document.getElementById("root")).render(ce.jsx(zm.StrictMode,{children:ce.jsx(z_,{children:ce.jsxs(D_,{children:[ce.jsx(sh,{path:"/",element:ce.jsx(OT,{})}),ce.jsx(sh,{path:"/case/:id",element:ce.jsx(LT,{})})]})})}));
